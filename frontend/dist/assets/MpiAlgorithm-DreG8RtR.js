const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/katex-CBmFCdgC.css"])))=>i.map(i=>d[i]);
var Ot=(mt,yt,m)=>new Promise((P,b)=>{var c=o=>{try{i(m.next(o))}catch(v){b(v)}},u=o=>{try{i(m.throw(o))}catch(v){b(v)}},i=o=>o.done?P(o.value):Promise.resolve(o.value).then(c,u);i((m=m.apply(mt,yt)).next())});import{_ as Vt,a as Ut}from"./index-BmuCbaez.js";import{e as Kt,b as ht,a as x,g as Bt,C as xt,I as Mt,E as Xt,A as Yt,t as ut,n as wt,y as Tt,z as kt,F as St,r as zt,D as jt,M as Zt,d as ft,k as vt,o as pt}from"./vue-vendor-CP5D5R8v.js";var Ft=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function qt(mt){return mt&&mt.__esModule&&Object.prototype.hasOwnProperty.call(mt,"default")?mt.default:mt}function Dt(mt){throw new Error('Could not dynamically require "'+mt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Wt={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(mt,yt){(function(m){mt.exports=m()})(function(){return function m(P,b,c){function u(v,w){if(!b[v]){if(!P[v]){var _=typeof Dt=="function"&&Dt;if(!w&&_)return _(v,!0);if(i)return i(v,!0);var g=new Error("Cannot find module '"+v+"'");throw g.code="MODULE_NOT_FOUND",g}var n=b[v]={exports:{}};P[v][0].call(n.exports,function(h){var r=P[v][1][h];return u(r||h)},n,n.exports,m,P,b,c)}return b[v].exports}for(var i=typeof Dt=="function"&&Dt,o=0;o<c.length;o++)u(c[o]);return u}({1:[function(m,P,b){var c=m("./utils"),u=m("./support"),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(o){for(var v,w,_,g,n,h,r,d=[],s=0,f=o.length,y=f,I=c.getTypeOf(o)!=="string";s<o.length;)y=f-s,_=I?(v=o[s++],w=s<f?o[s++]:0,s<f?o[s++]:0):(v=o.charCodeAt(s++),w=s<f?o.charCodeAt(s++):0,s<f?o.charCodeAt(s++):0),g=v>>2,n=(3&v)<<4|w>>4,h=1<y?(15&w)<<2|_>>6:64,r=2<y?63&_:64,d.push(i.charAt(g)+i.charAt(n)+i.charAt(h)+i.charAt(r));return d.join("")},b.decode=function(o){var v,w,_,g,n,h,r=0,d=0,s="data:";if(o.substr(0,s.length)===s)throw new Error("Invalid base64 input, it looks like a data url.");var f,y=3*(o=o.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(o.charAt(o.length-1)===i.charAt(64)&&y--,o.charAt(o.length-2)===i.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=u.uint8array?new Uint8Array(0|y):new Array(0|y);r<o.length;)v=i.indexOf(o.charAt(r++))<<2|(g=i.indexOf(o.charAt(r++)))>>4,w=(15&g)<<4|(n=i.indexOf(o.charAt(r++)))>>2,_=(3&n)<<6|(h=i.indexOf(o.charAt(r++))),f[d++]=v,n!==64&&(f[d++]=w),h!==64&&(f[d++]=_);return f}},{"./support":30,"./utils":32}],2:[function(m,P,b){var c=m("./external"),u=m("./stream/DataWorker"),i=m("./stream/Crc32Probe"),o=m("./stream/DataLengthProbe");function v(w,_,g,n,h){this.compressedSize=w,this.uncompressedSize=_,this.crc32=g,this.compression=n,this.compressedContent=h}v.prototype={getContentWorker:function(){var w=new u(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),_=this;return w.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new u(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},v.createWorkerFrom=function(w,_,g){return w.pipe(new i).pipe(new o("uncompressedSize")).pipe(_.compressWorker(g)).pipe(new o("compressedSize")).withStreamInfo("compression",_)},P.exports=v},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(m,P,b){var c=m("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},b.DEFLATE=m("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(m,P,b){var c=m("./utils"),u=function(){for(var i,o=[],v=0;v<256;v++){i=v;for(var w=0;w<8;w++)i=1&i?3988292384^i>>>1:i>>>1;o[v]=i}return o}();P.exports=function(i,o){return i!==void 0&&i.length?c.getTypeOf(i)!=="string"?function(v,w,_,g){var n=u,h=g+_;v^=-1;for(var r=g;r<h;r++)v=v>>>8^n[255&(v^w[r])];return-1^v}(0|o,i,i.length,0):function(v,w,_,g){var n=u,h=g+_;v^=-1;for(var r=g;r<h;r++)v=v>>>8^n[255&(v^w.charCodeAt(r))];return-1^v}(0|o,i,i.length,0):0}},{"./utils":32}],5:[function(m,P,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(m,P,b){var c=null;c=typeof Promise!="undefined"?Promise:m("lie"),P.exports={Promise:c}},{lie:37}],7:[function(m,P,b){var c=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",u=m("pako"),i=m("./utils"),o=m("./stream/GenericWorker"),v=c?"uint8array":"array";function w(_,g){o.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=g,this.meta={}}b.magic="\b\0",i.inherits(w,o),w.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(i.transformTo(v,_.data),!1)},w.prototype.flush=function(){o.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new u[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(g){_.push({data:g,meta:_.meta})}},b.compressWorker=function(_){return new w("Deflate",_)},b.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(m,P,b){function c(n,h){var r,d="";for(r=0;r<h;r++)d+=String.fromCharCode(255&n),n>>>=8;return d}function u(n,h,r,d,s,f){var y,I,z=n.file,N=n.compression,F=f!==v.utf8encode,j=i.transformTo("string",f(z.name)),B=i.transformTo("string",v.utf8encode(z.name)),$=z.comment,et=i.transformTo("string",f($)),p=i.transformTo("string",v.utf8encode($)),T=B.length!==z.name.length,e=p.length!==$.length,M="",rt="",U="",it=z.dir,Z=z.date,J={crc32:0,compressedSize:0,uncompressedSize:0};h&&!r||(J.crc32=n.crc32,J.compressedSize=n.compressedSize,J.uncompressedSize=n.uncompressedSize);var R=0;h&&(R|=8),F||!T&&!e||(R|=2048);var A=0,Q=0;it&&(A|=16),s==="UNIX"?(Q=798,A|=function(K,lt){var ct=K;return K||(ct=lt?16893:33204),(65535&ct)<<16}(z.unixPermissions,it)):(Q=20,A|=function(K){return 63&(K||0)}(z.dosPermissions)),y=Z.getUTCHours(),y<<=6,y|=Z.getUTCMinutes(),y<<=5,y|=Z.getUTCSeconds()/2,I=Z.getUTCFullYear()-1980,I<<=4,I|=Z.getUTCMonth()+1,I<<=5,I|=Z.getUTCDate(),T&&(rt=c(1,1)+c(w(j),4)+B,M+="up"+c(rt.length,2)+rt),e&&(U=c(1,1)+c(w(et),4)+p,M+="uc"+c(U.length,2)+U);var X="";return X+=`
\0`,X+=c(R,2),X+=N.magic,X+=c(y,2),X+=c(I,2),X+=c(J.crc32,4),X+=c(J.compressedSize,4),X+=c(J.uncompressedSize,4),X+=c(j.length,2),X+=c(M.length,2),{fileRecord:_.LOCAL_FILE_HEADER+X+j+M,dirRecord:_.CENTRAL_FILE_HEADER+c(Q,2)+X+c(et.length,2)+"\0\0\0\0"+c(A,4)+c(d,4)+j+M+et}}var i=m("../utils"),o=m("../stream/GenericWorker"),v=m("../utf8"),w=m("../crc32"),_=m("../signature");function g(n,h,r,d){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=r,this.encodeFileName=d,this.streamFiles=n,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(g,o),g.prototype.push=function(n){var h=n.meta.percent||0,r=this.entriesCount,d=this._sources.length;this.accumulate?this.contentBuffer.push(n):(this.bytesWritten+=n.data.length,o.prototype.push.call(this,{data:n.data,meta:{currentFile:this.currentFile,percent:r?(h+100*(r-d-1))/r:100}}))},g.prototype.openedSource=function(n){this.currentSourceOffset=this.bytesWritten,this.currentFile=n.file.name;var h=this.streamFiles&&!n.file.dir;if(h){var r=u(n,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(n){this.accumulate=!1;var h=this.streamFiles&&!n.file.dir,r=u(n,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),h)this.push({data:function(d){return _.DATA_DESCRIPTOR+c(d.crc32,4)+c(d.compressedSize,4)+c(d.uncompressedSize,4)}(n),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var n=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var r=this.bytesWritten-n,d=function(s,f,y,I,z){var N=i.transformTo("string",z(I));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(s,2)+c(s,2)+c(f,4)+c(y,4)+c(N.length,2)+N}(this.dirRecords.length,r,n,this.zipComment,this.encodeFileName);this.push({data:d,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(n){this._sources.push(n);var h=this;return n.on("data",function(r){h.processChunk(r)}),n.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),n.on("error",function(r){h.error(r)}),this},g.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(n){var h=this._sources;if(!o.prototype.error.call(this,n))return!1;for(var r=0;r<h.length;r++)try{h[r].error(n)}catch(d){}return!0},g.prototype.lock=function(){o.prototype.lock.call(this);for(var n=this._sources,h=0;h<n.length;h++)n[h].lock()},P.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(m,P,b){var c=m("../compressions"),u=m("./ZipFileWorker");b.generateWorker=function(i,o,v){var w=new u(o.streamFiles,v,o.platform,o.encodeFileName),_=0;try{i.forEach(function(g,n){_++;var h=function(f,y){var I=f||y,z=c[I];if(!z)throw new Error(I+" is not a valid compression method !");return z}(n.options.compression,o.compression),r=n.options.compressionOptions||o.compressionOptions||{},d=n.dir,s=n.date;n._compressWorker(h,r).withStreamInfo("file",{name:g,dir:d,date:s,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(w)}),w.entriesCount=_}catch(g){w.error(g)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(m,P,b){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var u=new c;for(var i in this)typeof this[i]!="function"&&(u[i]=this[i]);return u}}(c.prototype=m("./object")).loadAsync=m("./load"),c.support=m("./support"),c.defaults=m("./defaults"),c.version="3.10.1",c.loadAsync=function(u,i){return new c().loadAsync(u,i)},c.external=m("./external"),P.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(m,P,b){var c=m("./utils"),u=m("./external"),i=m("./utf8"),o=m("./zipEntries"),v=m("./stream/Crc32Probe"),w=m("./nodejsUtils");function _(g){return new u.Promise(function(n,h){var r=g.decompressed.getContentWorker().pipe(new v);r.on("error",function(d){h(d)}).on("end",function(){r.streamInfo.crc32!==g.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):n()}).resume()})}P.exports=function(g,n){var h=this;return n=c.extend(n||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:i.utf8decode}),w.isNode&&w.isStream(g)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",g,!0,n.optimizedBinaryString,n.base64).then(function(r){var d=new o(n);return d.load(r),d}).then(function(r){var d=[u.Promise.resolve(r)],s=r.files;if(n.checkCRC32)for(var f=0;f<s.length;f++)d.push(_(s[f]));return u.Promise.all(d)}).then(function(r){for(var d=r.shift(),s=d.files,f=0;f<s.length;f++){var y=s[f],I=y.fileNameStr,z=c.resolve(y.fileNameStr);h.file(z,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:n.createFolders}),y.dir||(h.file(z).unsafeOriginalName=I)}return d.zipComment.length&&(h.comment=d.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(m,P,b){var c=m("../utils"),u=m("../stream/GenericWorker");function i(o,v){u.call(this,"Nodejs stream input adapter for "+o),this._upstreamEnded=!1,this._bindStream(v)}c.inherits(i,u),i.prototype._bindStream=function(o){var v=this;(this._stream=o).pause(),o.on("data",function(w){v.push({data:w,meta:{percent:0}})}).on("error",function(w){v.isPaused?this.generatedError=w:v.error(w)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},i.prototype.pause=function(){return!!u.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},P.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(m,P,b){var c=m("readable-stream").Readable;function u(i,o,v){c.call(this,o),this._helper=i;var w=this;i.on("data",function(_,g){w.push(_)||w._helper.pause(),v&&v(g)}).on("error",function(_){w.emit("error",_)}).on("end",function(){w.push(null)})}m("../utils").inherits(u,c),u.prototype._read=function(){this._helper.resume()},P.exports=u},{"../utils":32,"readable-stream":16}],14:[function(m,P,b){P.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(c,u){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,u);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,u)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var u=new Buffer(c);return u.fill(0),u},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(m,P,b){function c(z,N,F){var j,B=i.getTypeOf(N),$=i.extend(F||{},w);$.date=$.date||new Date,$.compression!==null&&($.compression=$.compression.toUpperCase()),typeof $.unixPermissions=="string"&&($.unixPermissions=parseInt($.unixPermissions,8)),$.unixPermissions&&16384&$.unixPermissions&&($.dir=!0),$.dosPermissions&&16&$.dosPermissions&&($.dir=!0),$.dir&&(z=s(z)),$.createFolders&&(j=d(z))&&f.call(this,j,!0);var et=B==="string"&&$.binary===!1&&$.base64===!1;F&&F.binary!==void 0||($.binary=!et),(N instanceof _&&N.uncompressedSize===0||$.dir||!N||N.length===0)&&($.base64=!1,$.binary=!0,N="",$.compression="STORE",B="string");var p=null;p=N instanceof _||N instanceof o?N:h.isNode&&h.isStream(N)?new r(z,N):i.prepareContent(z,N,$.binary,$.optimizedBinaryString,$.base64);var T=new g(z,p,$);this.files[z]=T}var u=m("./utf8"),i=m("./utils"),o=m("./stream/GenericWorker"),v=m("./stream/StreamHelper"),w=m("./defaults"),_=m("./compressedObject"),g=m("./zipObject"),n=m("./generate"),h=m("./nodejsUtils"),r=m("./nodejs/NodejsStreamInputAdapter"),d=function(z){z.slice(-1)==="/"&&(z=z.substring(0,z.length-1));var N=z.lastIndexOf("/");return 0<N?z.substring(0,N):""},s=function(z){return z.slice(-1)!=="/"&&(z+="/"),z},f=function(z,N){return N=N!==void 0?N:w.createFolders,z=s(z),this.files[z]||c.call(this,z,null,{dir:!0,createFolders:N}),this.files[z]};function y(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(z){var N,F,j;for(N in this.files)j=this.files[N],(F=N.slice(this.root.length,N.length))&&N.slice(0,this.root.length)===this.root&&z(F,j)},filter:function(z){var N=[];return this.forEach(function(F,j){z(F,j)&&N.push(j)}),N},file:function(z,N,F){if(arguments.length!==1)return z=this.root+z,c.call(this,z,N,F),this;if(y(z)){var j=z;return this.filter(function($,et){return!et.dir&&j.test($)})}var B=this.files[this.root+z];return B&&!B.dir?B:null},folder:function(z){if(!z)return this;if(y(z))return this.filter(function(B,$){return $.dir&&z.test(B)});var N=this.root+z,F=f.call(this,N),j=this.clone();return j.root=F.name,j},remove:function(z){z=this.root+z;var N=this.files[z];if(N||(z.slice(-1)!=="/"&&(z+="/"),N=this.files[z]),N&&!N.dir)delete this.files[z];else for(var F=this.filter(function(B,$){return $.name.slice(0,z.length)===z}),j=0;j<F.length;j++)delete this.files[F[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(z){var N,F={};try{if((F=i.extend(z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");i.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var j=F.comment||this.comment||"";N=n.generateWorker(this,F,j)}catch(B){(N=new o("error")).error(B)}return new v(N,F.type||"string",F.mimeType)},generateAsync:function(z,N){return this.generateInternalStream(z).accumulate(N)},generateNodeStream:function(z,N){return(z=z||{}).type||(z.type="nodebuffer"),this.generateInternalStream(z).toNodejsStream(N)}};P.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(m,P,b){P.exports=m("stream")},{stream:void 0}],17:[function(m,P,b){var c=m("./DataReader");function u(i){c.call(this,i);for(var o=0;o<this.data.length;o++)i[o]=255&i[o]}m("../utils").inherits(u,c),u.prototype.byteAt=function(i){return this.data[this.zero+i]},u.prototype.lastIndexOfSignature=function(i){for(var o=i.charCodeAt(0),v=i.charCodeAt(1),w=i.charCodeAt(2),_=i.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===o&&this.data[g+1]===v&&this.data[g+2]===w&&this.data[g+3]===_)return g-this.zero;return-1},u.prototype.readAndCheckSignature=function(i){var o=i.charCodeAt(0),v=i.charCodeAt(1),w=i.charCodeAt(2),_=i.charCodeAt(3),g=this.readData(4);return o===g[0]&&v===g[1]&&w===g[2]&&_===g[3]},u.prototype.readData=function(i){if(this.checkOffset(i),i===0)return[];var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},P.exports=u},{"../utils":32,"./DataReader":18}],18:[function(m,P,b){var c=m("../utils");function u(i){this.data=i,this.length=i.length,this.index=0,this.zero=0}u.prototype={checkOffset:function(i){this.checkIndex(this.index+i)},checkIndex:function(i){if(this.length<this.zero+i||i<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+i+"). Corrupted zip ?")},setIndex:function(i){this.checkIndex(i),this.index=i},skip:function(i){this.setIndex(this.index+i)},byteAt:function(){},readInt:function(i){var o,v=0;for(this.checkOffset(i),o=this.index+i-1;o>=this.index;o--)v=(v<<8)+this.byteAt(o);return this.index+=i,v},readString:function(i){return c.transformTo("string",this.readData(i))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var i=this.readInt(4);return new Date(Date.UTC(1980+(i>>25&127),(i>>21&15)-1,i>>16&31,i>>11&31,i>>5&63,(31&i)<<1))}},P.exports=u},{"../utils":32}],19:[function(m,P,b){var c=m("./Uint8ArrayReader");function u(i){c.call(this,i)}m("../utils").inherits(u,c),u.prototype.readData=function(i){this.checkOffset(i);var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},P.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(m,P,b){var c=m("./DataReader");function u(i){c.call(this,i)}m("../utils").inherits(u,c),u.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},u.prototype.lastIndexOfSignature=function(i){return this.data.lastIndexOf(i)-this.zero},u.prototype.readAndCheckSignature=function(i){return i===this.readData(4)},u.prototype.readData=function(i){this.checkOffset(i);var o=this.data.slice(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},P.exports=u},{"../utils":32,"./DataReader":18}],21:[function(m,P,b){var c=m("./ArrayReader");function u(i){c.call(this,i)}m("../utils").inherits(u,c),u.prototype.readData=function(i){if(this.checkOffset(i),i===0)return new Uint8Array(0);var o=this.data.subarray(this.zero+this.index,this.zero+this.index+i);return this.index+=i,o},P.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(m,P,b){var c=m("../utils"),u=m("../support"),i=m("./ArrayReader"),o=m("./StringReader"),v=m("./NodeBufferReader"),w=m("./Uint8ArrayReader");P.exports=function(_){var g=c.getTypeOf(_);return c.checkSupport(g),g!=="string"||u.uint8array?g==="nodebuffer"?new v(_):u.uint8array?new w(c.transformTo("uint8array",_)):new i(c.transformTo("array",_)):new o(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(m,P,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(m,P,b){var c=m("./GenericWorker"),u=m("../utils");function i(o){c.call(this,"ConvertWorker to "+o),this.destType=o}u.inherits(i,c),i.prototype.processChunk=function(o){this.push({data:u.transformTo(this.destType,o.data),meta:o.meta})},P.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(m,P,b){var c=m("./GenericWorker"),u=m("../crc32");function i(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}m("../utils").inherits(i,c),i.prototype.processChunk=function(o){this.streamInfo.crc32=u(o.data,this.streamInfo.crc32||0),this.push(o)},P.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(m,P,b){var c=m("../utils"),u=m("./GenericWorker");function i(o){u.call(this,"DataLengthProbe for "+o),this.propName=o,this.withStreamInfo(o,0)}c.inherits(i,u),i.prototype.processChunk=function(o){if(o){var v=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=v+o.data.length}u.prototype.processChunk.call(this,o)},P.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(m,P,b){var c=m("../utils"),u=m("./GenericWorker");function i(o){u.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,o.then(function(w){v.dataIsReady=!0,v.data=w,v.max=w&&w.length||0,v.type=c.getTypeOf(w),v.isPaused||v._tickAndRepeat()},function(w){v.error(w)})}c.inherits(i,u),i.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var o=null,v=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":o=this.data.substring(this.index,v);break;case"uint8array":o=this.data.subarray(this.index,v);break;case"array":case"nodebuffer":o=this.data.slice(this.index,v)}return this.index=v,this.push({data:o,meta:{percent:this.max?this.index/this.max*100:0}})},P.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(m,P,b){function c(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,i){return this._listeners[u].push(i),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,i){if(this._listeners[u])for(var o=0;o<this._listeners[u].length;o++)this._listeners[u][o].call(this,i)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var i=this;return u.on("data",function(o){i.processChunk(o)}),u.on("end",function(){i.end()}),u.on("error",function(o){i.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var u=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,i){return this.extraStreamInfo[u]=i,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},P.exports=c},{}],29:[function(m,P,b){var c=m("../utils"),u=m("./ConvertWorker"),i=m("./GenericWorker"),o=m("../base64"),v=m("../support"),w=m("../external"),_=null;if(v.nodestream)try{_=m("../nodejs/NodejsStreamOutputAdapter")}catch(h){}function g(h,r){return new w.Promise(function(d,s){var f=[],y=h._internalType,I=h._outputType,z=h._mimeType;h.on("data",function(N,F){f.push(N),r&&r(F)}).on("error",function(N){f=[],s(N)}).on("end",function(){try{var N=function(F,j,B){switch(F){case"blob":return c.newBlob(c.transformTo("arraybuffer",j),B);case"base64":return o.encode(j);default:return c.transformTo(F,j)}}(I,function(F,j){var B,$=0,et=null,p=0;for(B=0;B<j.length;B++)p+=j[B].length;switch(F){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(et=new Uint8Array(p),B=0;B<j.length;B++)et.set(j[B],$),$+=j[B].length;return et;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+F+"'")}}(y,f),z);d(N)}catch(F){s(F)}f=[]}).resume()})}function n(h,r,d){var s=r;switch(r){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=r,this._mimeType=d,c.checkSupport(s),this._worker=h.pipe(new u(s)),h.lock()}catch(f){this._worker=new i("error"),this._worker.error(f)}}n.prototype={accumulate:function(h){return g(this,h)},on:function(h,r){var d=this;return h==="data"?this._worker.on(h,function(s){r.call(d,s.data,s.meta)}):this._worker.on(h,function(){c.delay(r,arguments,d)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},h)}},P.exports=n},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(m,P,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",b.nodebuffer=typeof Buffer!="undefined",b.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")b.blob=!1;else{var c=new ArrayBuffer(0);try{b.blob=new Blob([c],{type:"application/zip"}).size===0}catch(i){try{var u=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);u.append(c),b.blob=u.getBlob("application/zip").size===0}catch(o){b.blob=!1}}}try{b.nodestream=!!m("readable-stream").Readable}catch(i){b.nodestream=!1}},{"readable-stream":16}],31:[function(m,P,b){for(var c=m("./utils"),u=m("./support"),i=m("./nodejsUtils"),o=m("./stream/GenericWorker"),v=new Array(256),w=0;w<256;w++)v[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;v[254]=v[254]=1;function _(){o.call(this,"utf-8 decode"),this.leftOver=null}function g(){o.call(this,"utf-8 encode")}b.utf8encode=function(n){return u.nodebuffer?i.newBufferFrom(n,"utf-8"):function(h){var r,d,s,f,y,I=h.length,z=0;for(f=0;f<I;f++)(64512&(d=h.charCodeAt(f)))==55296&&f+1<I&&(64512&(s=h.charCodeAt(f+1)))==56320&&(d=65536+(d-55296<<10)+(s-56320),f++),z+=d<128?1:d<2048?2:d<65536?3:4;for(r=u.uint8array?new Uint8Array(z):new Array(z),f=y=0;y<z;f++)(64512&(d=h.charCodeAt(f)))==55296&&f+1<I&&(64512&(s=h.charCodeAt(f+1)))==56320&&(d=65536+(d-55296<<10)+(s-56320),f++),d<128?r[y++]=d:(d<2048?r[y++]=192|d>>>6:(d<65536?r[y++]=224|d>>>12:(r[y++]=240|d>>>18,r[y++]=128|d>>>12&63),r[y++]=128|d>>>6&63),r[y++]=128|63&d);return r}(n)},b.utf8decode=function(n){return u.nodebuffer?c.transformTo("nodebuffer",n).toString("utf-8"):function(h){var r,d,s,f,y=h.length,I=new Array(2*y);for(r=d=0;r<y;)if((s=h[r++])<128)I[d++]=s;else if(4<(f=v[s]))I[d++]=65533,r+=f-1;else{for(s&=f===2?31:f===3?15:7;1<f&&r<y;)s=s<<6|63&h[r++],f--;1<f?I[d++]=65533:s<65536?I[d++]=s:(s-=65536,I[d++]=55296|s>>10&1023,I[d++]=56320|1023&s)}return I.length!==d&&(I.subarray?I=I.subarray(0,d):I.length=d),c.applyFromCharCode(I)}(n=c.transformTo(u.uint8array?"uint8array":"array",n))},c.inherits(_,o),_.prototype.processChunk=function(n){var h=c.transformTo(u.uint8array?"uint8array":"array",n.data);if(this.leftOver&&this.leftOver.length){if(u.uint8array){var r=h;(h=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),h.set(r,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var d=function(f,y){var I;for((y=y||f.length)>f.length&&(y=f.length),I=y-1;0<=I&&(192&f[I])==128;)I--;return I<0||I===0?y:I+v[f[I]]>y?I:y}(h),s=h;d!==h.length&&(u.uint8array?(s=h.subarray(0,d),this.leftOver=h.subarray(d,h.length)):(s=h.slice(0,d),this.leftOver=h.slice(d,h.length))),this.push({data:b.utf8decode(s),meta:n.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=_,c.inherits(g,o),g.prototype.processChunk=function(n){this.push({data:b.utf8encode(n.data),meta:n.meta})},b.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(m,P,b){var c=m("./support"),u=m("./base64"),i=m("./nodejsUtils"),o=m("./external");function v(r){return r}function w(r,d){for(var s=0;s<r.length;++s)d[s]=255&r.charCodeAt(s);return d}m("setimmediate"),b.newBlob=function(r,d){b.checkSupport("blob");try{return new Blob([r],{type:d})}catch(f){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return s.append(r),s.getBlob(d)}catch(y){throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(r,d,s){var f=[],y=0,I=r.length;if(I<=s)return String.fromCharCode.apply(null,r);for(;y<I;)d==="array"||d==="nodebuffer"?f.push(String.fromCharCode.apply(null,r.slice(y,Math.min(y+s,I)))):f.push(String.fromCharCode.apply(null,r.subarray(y,Math.min(y+s,I)))),y+=s;return f.join("")},stringifyByChar:function(r){for(var d="",s=0;s<r.length;s++)d+=String.fromCharCode(r[s]);return d},applyCanBeUsed:{uint8array:function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(r){return!1}}(),nodebuffer:function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,i.allocBuffer(1)).length===1}catch(r){return!1}}()}};function g(r){var d=65536,s=b.getTypeOf(r),f=!0;if(s==="uint8array"?f=_.applyCanBeUsed.uint8array:s==="nodebuffer"&&(f=_.applyCanBeUsed.nodebuffer),f)for(;1<d;)try{return _.stringifyByChunk(r,s,d)}catch(y){d=Math.floor(d/2)}return _.stringifyByChar(r)}function n(r,d){for(var s=0;s<r.length;s++)d[s]=r[s];return d}b.applyFromCharCode=g;var h={};h.string={string:v,array:function(r){return w(r,new Array(r.length))},arraybuffer:function(r){return h.string.uint8array(r).buffer},uint8array:function(r){return w(r,new Uint8Array(r.length))},nodebuffer:function(r){return w(r,i.allocBuffer(r.length))}},h.array={string:g,array:v,arraybuffer:function(r){return new Uint8Array(r).buffer},uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return i.newBufferFrom(r)}},h.arraybuffer={string:function(r){return g(new Uint8Array(r))},array:function(r){return n(new Uint8Array(r),new Array(r.byteLength))},arraybuffer:v,uint8array:function(r){return new Uint8Array(r)},nodebuffer:function(r){return i.newBufferFrom(new Uint8Array(r))}},h.uint8array={string:g,array:function(r){return n(r,new Array(r.length))},arraybuffer:function(r){return r.buffer},uint8array:v,nodebuffer:function(r){return i.newBufferFrom(r)}},h.nodebuffer={string:g,array:function(r){return n(r,new Array(r.length))},arraybuffer:function(r){return h.nodebuffer.uint8array(r).buffer},uint8array:function(r){return n(r,new Uint8Array(r.length))},nodebuffer:v},b.transformTo=function(r,d){if(d=d||"",!r)return d;b.checkSupport(r);var s=b.getTypeOf(d);return h[s][r](d)},b.resolve=function(r){for(var d=r.split("/"),s=[],f=0;f<d.length;f++){var y=d[f];y==="."||y===""&&f!==0&&f!==d.length-1||(y===".."?s.pop():s.push(y))}return s.join("/")},b.getTypeOf=function(r){return typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Array]"?"array":c.nodebuffer&&i.isBuffer(r)?"nodebuffer":c.uint8array&&r instanceof Uint8Array?"uint8array":c.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(r){if(!c[r.toLowerCase()])throw new Error(r+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(r){var d,s,f="";for(s=0;s<(r||"").length;s++)f+="\\x"+((d=r.charCodeAt(s))<16?"0":"")+d.toString(16).toUpperCase();return f},b.delay=function(r,d,s){setImmediate(function(){r.apply(s||null,d||[])})},b.inherits=function(r,d){function s(){}s.prototype=d.prototype,r.prototype=new s},b.extend=function(){var r,d,s={};for(r=0;r<arguments.length;r++)for(d in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],d)&&s[d]===void 0&&(s[d]=arguments[r][d]);return s},b.prepareContent=function(r,d,s,f,y){return o.Promise.resolve(d).then(function(I){return c.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader!="undefined"?new o.Promise(function(z,N){var F=new FileReader;F.onload=function(j){z(j.target.result)},F.onerror=function(j){N(j.target.error)},F.readAsArrayBuffer(I)}):I}).then(function(I){var z=b.getTypeOf(I);return z?(z==="arraybuffer"?I=b.transformTo("uint8array",I):z==="string"&&(y?I=u.decode(I):s&&f!==!0&&(I=function(N){return w(N,c.uint8array?new Uint8Array(N.length):new Array(N.length))}(I))),I):o.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(m,P,b){var c=m("./reader/readerFor"),u=m("./utils"),i=m("./signature"),o=m("./zipEntry"),v=m("./support");function w(_){this.files=[],this.loadOptions=_}w.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+u.pretty(g)+", expected "+u.pretty(_)+")")}},isSignature:function(_,g){var n=this.reader.index;this.reader.setIndex(_);var h=this.reader.readString(4)===g;return this.reader.setIndex(n),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),g=v.uint8array?"uint8array":"array",n=u.transformTo(g,_);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,g,n,h=this.zip64EndOfCentralSize-44;0<h;)_=this.reader.readInt(2),g=this.reader.readInt(4),n=this.reader.readData(g),this.zip64ExtensibleData[_]={id:_,length:g,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,g;for(_=0;_<this.files.length;_++)g=this.files[_],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(i.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(_=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,i.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var g=_;if(this.checkSignature(i.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===u.MAX_VALUE_16BITS||this.diskWithCentralDirStart===u.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===u.MAX_VALUE_16BITS||this.centralDirRecords===u.MAX_VALUE_16BITS||this.centralDirSize===u.MAX_VALUE_32BITS||this.centralDirOffset===u.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,i.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var h=g-n;if(0<h)this.isSignature(g,i.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(_){this.reader=c(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},P.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(m,P,b){var c=m("./reader/readerFor"),u=m("./utils"),i=m("./compressedObject"),o=m("./crc32"),v=m("./utf8"),w=m("./compressions"),_=m("./support");function g(n,h){this.options=n,this.loadOptions=h}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(n){var h,r;if(n.skip(22),this.fileNameLength=n.readInt(2),r=n.readInt(2),this.fileName=n.readData(this.fileNameLength),n.skip(r),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(d){for(var s in w)if(Object.prototype.hasOwnProperty.call(w,s)&&w[s].magic===d)return w[s];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+u.pretty(this.compressionMethod)+" unknown (inner file : "+u.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,h,n.readData(this.compressedSize))},readCentralPart:function(n){this.versionMadeBy=n.readInt(2),n.skip(2),this.bitFlag=n.readInt(2),this.compressionMethod=n.readString(2),this.date=n.readDate(),this.crc32=n.readInt(4),this.compressedSize=n.readInt(4),this.uncompressedSize=n.readInt(4);var h=n.readInt(2);if(this.extraFieldsLength=n.readInt(2),this.fileCommentLength=n.readInt(2),this.diskNumberStart=n.readInt(2),this.internalFileAttributes=n.readInt(2),this.externalFileAttributes=n.readInt(4),this.localHeaderOffset=n.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");n.skip(h),this.readExtraFields(n),this.parseZIP64ExtraField(n),this.fileComment=n.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var n=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),n==0&&(this.dosPermissions=63&this.externalFileAttributes),n==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var n=c(this.extraFields[1].value);this.uncompressedSize===u.MAX_VALUE_32BITS&&(this.uncompressedSize=n.readInt(8)),this.compressedSize===u.MAX_VALUE_32BITS&&(this.compressedSize=n.readInt(8)),this.localHeaderOffset===u.MAX_VALUE_32BITS&&(this.localHeaderOffset=n.readInt(8)),this.diskNumberStart===u.MAX_VALUE_32BITS&&(this.diskNumberStart=n.readInt(4))}},readExtraFields:function(n){var h,r,d,s=n.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});n.index+4<s;)h=n.readInt(2),r=n.readInt(2),d=n.readData(r),this.extraFields[h]={id:h,length:r,value:d};n.setIndex(s)},handleUTF8:function(){var n=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=v.utf8decode(this.fileName),this.fileCommentStr=v.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var r=u.transformTo(n,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var d=this.findExtraFieldUnicodeComment();if(d!==null)this.fileCommentStr=d;else{var s=u.transformTo(n,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var n=this.extraFields[28789];if(n){var h=c(n.value);return h.readInt(1)!==1||o(this.fileName)!==h.readInt(4)?null:v.utf8decode(h.readData(n.length-5))}return null},findExtraFieldUnicodeComment:function(){var n=this.extraFields[25461];if(n){var h=c(n.value);return h.readInt(1)!==1||o(this.fileComment)!==h.readInt(4)?null:v.utf8decode(h.readData(n.length-5))}return null}},P.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(m,P,b){function c(h,r,d){this.name=h,this.dir=d.dir,this.date=d.date,this.comment=d.comment,this.unixPermissions=d.unixPermissions,this.dosPermissions=d.dosPermissions,this._data=r,this._dataBinary=d.binary,this.options={compression:d.compression,compressionOptions:d.compressionOptions}}var u=m("./stream/StreamHelper"),i=m("./stream/DataWorker"),o=m("./utf8"),v=m("./compressedObject"),w=m("./stream/GenericWorker");c.prototype={internalStream:function(h){var r=null,d="string";try{if(!h)throw new Error("No output type specified.");var s=(d=h.toLowerCase())==="string"||d==="text";d!=="binarystring"&&d!=="text"||(d="string"),r=this._decompressWorker();var f=!this._dataBinary;f&&!s&&(r=r.pipe(new o.Utf8EncodeWorker)),!f&&s&&(r=r.pipe(new o.Utf8DecodeWorker))}catch(y){(r=new w("error")).error(y)}return new u(r,d,"")},async:function(h,r){return this.internalStream(h).accumulate(r)},nodeStream:function(h,r){return this.internalStream(h||"nodebuffer").toNodejsStream(r)},_compressWorker:function(h,r){if(this._data instanceof v&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var d=this._decompressWorker();return this._dataBinary||(d=d.pipe(new o.Utf8EncodeWorker)),v.createWorkerFrom(d,h,r)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof w?this._data:new i(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},n=0;n<_.length;n++)c.prototype[_[n]]=g;P.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(m,P,b){(function(c){var u,i,o=c.MutationObserver||c.WebKitMutationObserver;if(o){var v=0,w=new o(h),_=c.document.createTextNode("");w.observe(_,{characterData:!0}),u=function(){_.data=v=++v%2}}else if(c.setImmediate||c.MessageChannel===void 0)u="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var r=c.document.createElement("script");r.onreadystatechange=function(){h(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},c.document.documentElement.appendChild(r)}:function(){setTimeout(h,0)};else{var g=new c.MessageChannel;g.port1.onmessage=h,u=function(){g.port2.postMessage(0)}}var n=[];function h(){var r,d;i=!0;for(var s=n.length;s;){for(d=n,n=[],r=-1;++r<s;)d[r]();s=n.length}i=!1}P.exports=function(r){n.push(r)!==1||i||u()}}).call(this,typeof Ft!="undefined"?Ft:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(m,P,b){var c=m("immediate");function u(){}var i={},o=["REJECTED"],v=["FULFILLED"],w=["PENDING"];function _(s){if(typeof s!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,s!==u&&r(this,s)}function g(s,f,y){this.promise=s,typeof f=="function"&&(this.onFulfilled=f,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function n(s,f,y){c(function(){var I;try{I=f(y)}catch(z){return i.reject(s,z)}I===s?i.reject(s,new TypeError("Cannot resolve promise with itself")):i.resolve(s,I)})}function h(s){var f=s&&s.then;if(s&&(typeof s=="object"||typeof s=="function")&&typeof f=="function")return function(){f.apply(s,arguments)}}function r(s,f){var y=!1;function I(F){y||(y=!0,i.reject(s,F))}function z(F){y||(y=!0,i.resolve(s,F))}var N=d(function(){f(z,I)});N.status==="error"&&I(N.value)}function d(s,f){var y={};try{y.value=s(f),y.status="success"}catch(I){y.status="error",y.value=I}return y}(P.exports=_).prototype.finally=function(s){if(typeof s!="function")return this;var f=this.constructor;return this.then(function(y){return f.resolve(s()).then(function(){return y})},function(y){return f.resolve(s()).then(function(){throw y})})},_.prototype.catch=function(s){return this.then(null,s)},_.prototype.then=function(s,f){if(typeof s!="function"&&this.state===v||typeof f!="function"&&this.state===o)return this;var y=new this.constructor(u);return this.state!==w?n(y,this.state===v?s:f,this.outcome):this.queue.push(new g(y,s,f)),y},g.prototype.callFulfilled=function(s){i.resolve(this.promise,s)},g.prototype.otherCallFulfilled=function(s){n(this.promise,this.onFulfilled,s)},g.prototype.callRejected=function(s){i.reject(this.promise,s)},g.prototype.otherCallRejected=function(s){n(this.promise,this.onRejected,s)},i.resolve=function(s,f){var y=d(h,f);if(y.status==="error")return i.reject(s,y.value);var I=y.value;if(I)r(s,I);else{s.state=v,s.outcome=f;for(var z=-1,N=s.queue.length;++z<N;)s.queue[z].callFulfilled(f)}return s},i.reject=function(s,f){s.state=o,s.outcome=f;for(var y=-1,I=s.queue.length;++y<I;)s.queue[y].callRejected(f);return s},_.resolve=function(s){return s instanceof this?s:i.resolve(new this(u),s)},_.reject=function(s){var f=new this(u);return i.reject(f,s)},_.all=function(s){var f=this;if(Object.prototype.toString.call(s)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=s.length,I=!1;if(!y)return this.resolve([]);for(var z=new Array(y),N=0,F=-1,j=new this(u);++F<y;)B(s[F],F);return j;function B($,et){f.resolve($).then(function(p){z[et]=p,++N!==y||I||(I=!0,i.resolve(j,z))},function(p){I||(I=!0,i.reject(j,p))})}},_.race=function(s){var f=this;if(Object.prototype.toString.call(s)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=s.length,I=!1;if(!y)return this.resolve([]);for(var z=-1,N=new this(u);++z<y;)F=s[z],f.resolve(F).then(function(j){I||(I=!0,i.resolve(N,j))},function(j){I||(I=!0,i.reject(N,j))});var F;return N}},{immediate:36}],38:[function(m,P,b){var c={};(0,m("./lib/utils/common").assign)(c,m("./lib/deflate"),m("./lib/inflate"),m("./lib/zlib/constants")),P.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(m,P,b){var c=m("./zlib/deflate"),u=m("./utils/common"),i=m("./utils/strings"),o=m("./zlib/messages"),v=m("./zlib/zstream"),w=Object.prototype.toString,_=0,g=-1,n=0,h=8;function r(s){if(!(this instanceof r))return new r(s);this.options=u.assign({level:g,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:n,to:""},s||{});var f=this.options;f.raw&&0<f.windowBits?f.windowBits=-f.windowBits:f.gzip&&0<f.windowBits&&f.windowBits<16&&(f.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var y=c.deflateInit2(this.strm,f.level,f.method,f.windowBits,f.memLevel,f.strategy);if(y!==_)throw new Error(o[y]);if(f.header&&c.deflateSetHeader(this.strm,f.header),f.dictionary){var I;if(I=typeof f.dictionary=="string"?i.string2buf(f.dictionary):w.call(f.dictionary)==="[object ArrayBuffer]"?new Uint8Array(f.dictionary):f.dictionary,(y=c.deflateSetDictionary(this.strm,I))!==_)throw new Error(o[y]);this._dict_set=!0}}function d(s,f){var y=new r(f);if(y.push(s,!0),y.err)throw y.msg||o[y.err];return y.result}r.prototype.push=function(s,f){var y,I,z=this.strm,N=this.options.chunkSize;if(this.ended)return!1;I=f===~~f?f:f===!0?4:0,typeof s=="string"?z.input=i.string2buf(s):w.call(s)==="[object ArrayBuffer]"?z.input=new Uint8Array(s):z.input=s,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new u.Buf8(N),z.next_out=0,z.avail_out=N),(y=c.deflate(z,I))!==1&&y!==_)return this.onEnd(y),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(i.buf2binstring(u.shrinkBuf(z.output,z.next_out))):this.onData(u.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&y!==1);return I===4?(y=c.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===_):I!==2||(this.onEnd(_),!(z.avail_out=0))},r.prototype.onData=function(s){this.chunks.push(s)},r.prototype.onEnd=function(s){s===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},b.Deflate=r,b.deflate=d,b.deflateRaw=function(s,f){return(f=f||{}).raw=!0,d(s,f)},b.gzip=function(s,f){return(f=f||{}).gzip=!0,d(s,f)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(m,P,b){var c=m("./zlib/inflate"),u=m("./utils/common"),i=m("./utils/strings"),o=m("./zlib/constants"),v=m("./zlib/messages"),w=m("./zlib/zstream"),_=m("./zlib/gzheader"),g=Object.prototype.toString;function n(r){if(!(this instanceof n))return new n(r);this.options=u.assign({chunkSize:16384,windowBits:0,to:""},r||{});var d=this.options;d.raw&&0<=d.windowBits&&d.windowBits<16&&(d.windowBits=-d.windowBits,d.windowBits===0&&(d.windowBits=-15)),!(0<=d.windowBits&&d.windowBits<16)||r&&r.windowBits||(d.windowBits+=32),15<d.windowBits&&d.windowBits<48&&!(15&d.windowBits)&&(d.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var s=c.inflateInit2(this.strm,d.windowBits);if(s!==o.Z_OK)throw new Error(v[s]);this.header=new _,c.inflateGetHeader(this.strm,this.header)}function h(r,d){var s=new n(d);if(s.push(r,!0),s.err)throw s.msg||v[s.err];return s.result}n.prototype.push=function(r,d){var s,f,y,I,z,N,F=this.strm,j=this.options.chunkSize,B=this.options.dictionary,$=!1;if(this.ended)return!1;f=d===~~d?d:d===!0?o.Z_FINISH:o.Z_NO_FLUSH,typeof r=="string"?F.input=i.binstring2buf(r):g.call(r)==="[object ArrayBuffer]"?F.input=new Uint8Array(r):F.input=r,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new u.Buf8(j),F.next_out=0,F.avail_out=j),(s=c.inflate(F,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&B&&(N=typeof B=="string"?i.string2buf(B):g.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,s=c.inflateSetDictionary(this.strm,N)),s===o.Z_BUF_ERROR&&$===!0&&(s=o.Z_OK,$=!1),s!==o.Z_STREAM_END&&s!==o.Z_OK)return this.onEnd(s),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&s!==o.Z_STREAM_END&&(F.avail_in!==0||f!==o.Z_FINISH&&f!==o.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=i.utf8border(F.output,F.next_out),I=F.next_out-y,z=i.buf2string(F.output,y),F.next_out=I,F.avail_out=j-I,I&&u.arraySet(F.output,F.output,y,I,0),this.onData(z)):this.onData(u.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&($=!0)}while((0<F.avail_in||F.avail_out===0)&&s!==o.Z_STREAM_END);return s===o.Z_STREAM_END&&(f=o.Z_FINISH),f===o.Z_FINISH?(s=c.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===o.Z_OK):f!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(F.avail_out=0))},n.prototype.onData=function(r){this.chunks.push(r)},n.prototype.onEnd=function(r){r===o.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},b.Inflate=n,b.inflate=h,b.inflateRaw=function(r,d){return(d=d||{}).raw=!0,h(r,d)},b.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(m,P,b){var c=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";b.assign=function(o){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var w=v.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var _ in w)w.hasOwnProperty(_)&&(o[_]=w[_])}}return o},b.shrinkBuf=function(o,v){return o.length===v?o:o.subarray?o.subarray(0,v):(o.length=v,o)};var u={arraySet:function(o,v,w,_,g){if(v.subarray&&o.subarray)o.set(v.subarray(w,w+_),g);else for(var n=0;n<_;n++)o[g+n]=v[w+n]},flattenChunks:function(o){var v,w,_,g,n,h;for(v=_=0,w=o.length;v<w;v++)_+=o[v].length;for(h=new Uint8Array(_),v=g=0,w=o.length;v<w;v++)n=o[v],h.set(n,g),g+=n.length;return h}},i={arraySet:function(o,v,w,_,g){for(var n=0;n<_;n++)o[g+n]=v[w+n]},flattenChunks:function(o){return[].concat.apply([],o)}};b.setTyped=function(o){o?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,u)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,i))},b.setTyped(c)},{}],42:[function(m,P,b){var c=m("./common"),u=!0,i=!0;try{String.fromCharCode.apply(null,[0])}catch(_){u=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(_){i=!1}for(var o=new c.Buf8(256),v=0;v<256;v++)o[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function w(_,g){if(g<65537&&(_.subarray&&i||!_.subarray&&u))return String.fromCharCode.apply(null,c.shrinkBuf(_,g));for(var n="",h=0;h<g;h++)n+=String.fromCharCode(_[h]);return n}o[254]=o[254]=1,b.string2buf=function(_){var g,n,h,r,d,s=_.length,f=0;for(r=0;r<s;r++)(64512&(n=_.charCodeAt(r)))==55296&&r+1<s&&(64512&(h=_.charCodeAt(r+1)))==56320&&(n=65536+(n-55296<<10)+(h-56320),r++),f+=n<128?1:n<2048?2:n<65536?3:4;for(g=new c.Buf8(f),r=d=0;d<f;r++)(64512&(n=_.charCodeAt(r)))==55296&&r+1<s&&(64512&(h=_.charCodeAt(r+1)))==56320&&(n=65536+(n-55296<<10)+(h-56320),r++),n<128?g[d++]=n:(n<2048?g[d++]=192|n>>>6:(n<65536?g[d++]=224|n>>>12:(g[d++]=240|n>>>18,g[d++]=128|n>>>12&63),g[d++]=128|n>>>6&63),g[d++]=128|63&n);return g},b.buf2binstring=function(_){return w(_,_.length)},b.binstring2buf=function(_){for(var g=new c.Buf8(_.length),n=0,h=g.length;n<h;n++)g[n]=_.charCodeAt(n);return g},b.buf2string=function(_,g){var n,h,r,d,s=g||_.length,f=new Array(2*s);for(n=h=0;n<s;)if((r=_[n++])<128)f[h++]=r;else if(4<(d=o[r]))f[h++]=65533,n+=d-1;else{for(r&=d===2?31:d===3?15:7;1<d&&n<s;)r=r<<6|63&_[n++],d--;1<d?f[h++]=65533:r<65536?f[h++]=r:(r-=65536,f[h++]=55296|r>>10&1023,f[h++]=56320|1023&r)}return w(f,h)},b.utf8border=function(_,g){var n;for((g=g||_.length)>_.length&&(g=_.length),n=g-1;0<=n&&(192&_[n])==128;)n--;return n<0||n===0?g:n+o[_[n]]>g?n:g}},{"./common":41}],43:[function(m,P,b){P.exports=function(c,u,i,o){for(var v=65535&c|0,w=c>>>16&65535|0,_=0;i!==0;){for(i-=_=2e3<i?2e3:i;w=w+(v=v+u[o++]|0)|0,--_;);v%=65521,w%=65521}return v|w<<16|0}},{}],44:[function(m,P,b){P.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(m,P,b){var c=function(){for(var u,i=[],o=0;o<256;o++){u=o;for(var v=0;v<8;v++)u=1&u?3988292384^u>>>1:u>>>1;i[o]=u}return i}();P.exports=function(u,i,o,v){var w=c,_=v+o;u^=-1;for(var g=v;g<_;g++)u=u>>>8^w[255&(u^i[g])];return-1^u}},{}],46:[function(m,P,b){var c,u=m("../utils/common"),i=m("./trees"),o=m("./adler32"),v=m("./crc32"),w=m("./messages"),_=0,g=4,n=0,h=-2,r=-1,d=4,s=2,f=8,y=9,I=286,z=30,N=19,F=2*I+1,j=15,B=3,$=258,et=$+B+1,p=42,T=113,e=1,M=2,rt=3,U=4;function it(t,O){return t.msg=w[O],O}function Z(t){return(t<<1)-(4<t?9:0)}function J(t){for(var O=t.length;0<=--O;)t[O]=0}function R(t){var O=t.state,E=O.pending;E>t.avail_out&&(E=t.avail_out),E!==0&&(u.arraySet(t.output,O.pending_buf,O.pending_out,E,t.next_out),t.next_out+=E,O.pending_out+=E,t.total_out+=E,t.avail_out-=E,O.pending-=E,O.pending===0&&(O.pending_out=0))}function A(t,O){i._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,O),t.block_start=t.strstart,R(t.strm)}function Q(t,O){t.pending_buf[t.pending++]=O}function X(t,O){t.pending_buf[t.pending++]=O>>>8&255,t.pending_buf[t.pending++]=255&O}function K(t,O){var E,l,a=t.max_chain_length,k=t.strstart,D=t.prev_length,L=t.nice_match,C=t.strstart>t.w_size-et?t.strstart-(t.w_size-et):0,H=t.window,Y=t.w_mask,V=t.prev,tt=t.strstart+$,ot=H[k+D-1],st=H[k+D];t.prev_length>=t.good_match&&(a>>=2),L>t.lookahead&&(L=t.lookahead);do if(H[(E=O)+D]===st&&H[E+D-1]===ot&&H[E]===H[k]&&H[++E]===H[k+1]){k+=2,E++;do;while(H[++k]===H[++E]&&H[++k]===H[++E]&&H[++k]===H[++E]&&H[++k]===H[++E]&&H[++k]===H[++E]&&H[++k]===H[++E]&&H[++k]===H[++E]&&H[++k]===H[++E]&&k<tt);if(l=$-(tt-k),k=tt-$,D<l){if(t.match_start=O,L<=(D=l))break;ot=H[k+D-1],st=H[k+D]}}while((O=V[O&Y])>C&&--a!=0);return D<=t.lookahead?D:t.lookahead}function lt(t){var O,E,l,a,k,D,L,C,H,Y,V=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=V+(V-et)){for(u.arraySet(t.window,t.window,V,V,0),t.match_start-=V,t.strstart-=V,t.block_start-=V,O=E=t.hash_size;l=t.head[--O],t.head[O]=V<=l?l-V:0,--E;);for(O=E=V;l=t.prev[--O],t.prev[O]=V<=l?l-V:0,--E;);a+=V}if(t.strm.avail_in===0)break;if(D=t.strm,L=t.window,C=t.strstart+t.lookahead,H=a,Y=void 0,Y=D.avail_in,H<Y&&(Y=H),E=Y===0?0:(D.avail_in-=Y,u.arraySet(L,D.input,D.next_in,Y,C),D.state.wrap===1?D.adler=o(D.adler,L,Y,C):D.state.wrap===2&&(D.adler=v(D.adler,L,Y,C)),D.next_in+=Y,D.total_in+=Y,Y),t.lookahead+=E,t.lookahead+t.insert>=B)for(k=t.strstart-t.insert,t.ins_h=t.window[k],t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[k+B-1])&t.hash_mask,t.prev[k&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=k,k++,t.insert--,!(t.lookahead+t.insert<B)););}while(t.lookahead<et&&t.strm.avail_in!==0)}function ct(t,O){for(var E,l;;){if(t.lookahead<et){if(lt(t),t.lookahead<et&&O===_)return e;if(t.lookahead===0)break}if(E=0,t.lookahead>=B&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,E=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),E!==0&&t.strstart-E<=t.w_size-et&&(t.match_length=K(t,E)),t.match_length>=B)if(l=i._tr_tally(t,t.strstart-t.match_start,t.match_length-B),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=B){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,E=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,--t.match_length!=0;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else l=i._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(l&&(A(t,!1),t.strm.avail_out===0))return e}return t.insert=t.strstart<B-1?t.strstart:B-1,O===g?(A(t,!0),t.strm.avail_out===0?rt:U):t.last_lit&&(A(t,!1),t.strm.avail_out===0)?e:M}function nt(t,O){for(var E,l,a;;){if(t.lookahead<et){if(lt(t),t.lookahead<et&&O===_)return e;if(t.lookahead===0)break}if(E=0,t.lookahead>=B&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,E=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=B-1,E!==0&&t.prev_length<t.max_lazy_match&&t.strstart-E<=t.w_size-et&&(t.match_length=K(t,E),t.match_length<=5&&(t.strategy===1||t.match_length===B&&4096<t.strstart-t.match_start)&&(t.match_length=B-1)),t.prev_length>=B&&t.match_length<=t.prev_length){for(a=t.strstart+t.lookahead-B,l=i._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-B),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=a&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+B-1])&t.hash_mask,E=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),--t.prev_length!=0;);if(t.match_available=0,t.match_length=B-1,t.strstart++,l&&(A(t,!1),t.strm.avail_out===0))return e}else if(t.match_available){if((l=i._tr_tally(t,0,t.window[t.strstart-1]))&&A(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return e}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(l=i._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<B-1?t.strstart:B-1,O===g?(A(t,!0),t.strm.avail_out===0?rt:U):t.last_lit&&(A(t,!1),t.strm.avail_out===0)?e:M}function at(t,O,E,l,a){this.good_length=t,this.max_lazy=O,this.nice_length=E,this.max_chain=l,this.func=a}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=f,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new u.Buf16(2*F),this.dyn_dtree=new u.Buf16(2*(2*z+1)),this.bl_tree=new u.Buf16(2*(2*N+1)),J(this.dyn_ltree),J(this.dyn_dtree),J(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new u.Buf16(j+1),this.heap=new u.Buf16(2*I+1),J(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new u.Buf16(2*I+1),J(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function S(t){var O;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=s,(O=t.state).pending=0,O.pending_out=0,O.wrap<0&&(O.wrap=-O.wrap),O.status=O.wrap?p:T,t.adler=O.wrap===2?0:1,O.last_flush=_,i._tr_init(O),n):it(t,h)}function G(t){var O=S(t);return O===n&&function(E){E.window_size=2*E.w_size,J(E.head),E.max_lazy_match=c[E.level].max_lazy,E.good_match=c[E.level].good_length,E.nice_match=c[E.level].nice_length,E.max_chain_length=c[E.level].max_chain,E.strstart=0,E.block_start=0,E.lookahead=0,E.insert=0,E.match_length=E.prev_length=B-1,E.match_available=0,E.ins_h=0}(t.state),O}function q(t,O,E,l,a,k){if(!t)return h;var D=1;if(O===r&&(O=6),l<0?(D=0,l=-l):15<l&&(D=2,l-=16),a<1||y<a||E!==f||l<8||15<l||O<0||9<O||k<0||d<k)return it(t,h);l===8&&(l=9);var L=new W;return(t.state=L).strm=t,L.wrap=D,L.gzhead=null,L.w_bits=l,L.w_size=1<<L.w_bits,L.w_mask=L.w_size-1,L.hash_bits=a+7,L.hash_size=1<<L.hash_bits,L.hash_mask=L.hash_size-1,L.hash_shift=~~((L.hash_bits+B-1)/B),L.window=new u.Buf8(2*L.w_size),L.head=new u.Buf16(L.hash_size),L.prev=new u.Buf16(L.w_size),L.lit_bufsize=1<<a+6,L.pending_buf_size=4*L.lit_bufsize,L.pending_buf=new u.Buf8(L.pending_buf_size),L.d_buf=1*L.lit_bufsize,L.l_buf=3*L.lit_bufsize,L.level=O,L.strategy=k,L.method=E,G(t)}c=[new at(0,0,0,0,function(t,O){var E=65535;for(E>t.pending_buf_size-5&&(E=t.pending_buf_size-5);;){if(t.lookahead<=1){if(lt(t),t.lookahead===0&&O===_)return e;if(t.lookahead===0)break}t.strstart+=t.lookahead,t.lookahead=0;var l=t.block_start+E;if((t.strstart===0||t.strstart>=l)&&(t.lookahead=t.strstart-l,t.strstart=l,A(t,!1),t.strm.avail_out===0)||t.strstart-t.block_start>=t.w_size-et&&(A(t,!1),t.strm.avail_out===0))return e}return t.insert=0,O===g?(A(t,!0),t.strm.avail_out===0?rt:U):(t.strstart>t.block_start&&(A(t,!1),t.strm.avail_out),e)}),new at(4,4,8,4,ct),new at(4,5,16,8,ct),new at(4,6,32,32,ct),new at(4,4,16,16,nt),new at(8,16,32,32,nt),new at(8,16,128,128,nt),new at(8,32,128,256,nt),new at(32,128,258,1024,nt),new at(32,258,258,4096,nt)],b.deflateInit=function(t,O){return q(t,O,f,15,8,0)},b.deflateInit2=q,b.deflateReset=G,b.deflateResetKeep=S,b.deflateSetHeader=function(t,O){return t&&t.state?t.state.wrap!==2?h:(t.state.gzhead=O,n):h},b.deflate=function(t,O){var E,l,a,k;if(!t||!t.state||5<O||O<0)return t?it(t,h):h;if(l=t.state,!t.output||!t.input&&t.avail_in!==0||l.status===666&&O!==g)return it(t,t.avail_out===0?-5:h);if(l.strm=t,E=l.last_flush,l.last_flush=O,l.status===p)if(l.wrap===2)t.adler=0,Q(l,31),Q(l,139),Q(l,8),l.gzhead?(Q(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),Q(l,255&l.gzhead.time),Q(l,l.gzhead.time>>8&255),Q(l,l.gzhead.time>>16&255),Q(l,l.gzhead.time>>24&255),Q(l,l.level===9?2:2<=l.strategy||l.level<2?4:0),Q(l,255&l.gzhead.os),l.gzhead.extra&&l.gzhead.extra.length&&(Q(l,255&l.gzhead.extra.length),Q(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(t.adler=v(t.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=69):(Q(l,0),Q(l,0),Q(l,0),Q(l,0),Q(l,0),Q(l,l.level===9?2:2<=l.strategy||l.level<2?4:0),Q(l,3),l.status=T);else{var D=f+(l.w_bits-8<<4)<<8;D|=(2<=l.strategy||l.level<2?0:l.level<6?1:l.level===6?2:3)<<6,l.strstart!==0&&(D|=32),D+=31-D%31,l.status=T,X(l,D),l.strstart!==0&&(X(l,t.adler>>>16),X(l,65535&t.adler)),t.adler=1}if(l.status===69)if(l.gzhead.extra){for(a=l.pending;l.gzindex<(65535&l.gzhead.extra.length)&&(l.pending!==l.pending_buf_size||(l.gzhead.hcrc&&l.pending>a&&(t.adler=v(t.adler,l.pending_buf,l.pending-a,a)),R(t),a=l.pending,l.pending!==l.pending_buf_size));)Q(l,255&l.gzhead.extra[l.gzindex]),l.gzindex++;l.gzhead.hcrc&&l.pending>a&&(t.adler=v(t.adler,l.pending_buf,l.pending-a,a)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=73)}else l.status=73;if(l.status===73)if(l.gzhead.name){a=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>a&&(t.adler=v(t.adler,l.pending_buf,l.pending-a,a)),R(t),a=l.pending,l.pending===l.pending_buf_size)){k=1;break}k=l.gzindex<l.gzhead.name.length?255&l.gzhead.name.charCodeAt(l.gzindex++):0,Q(l,k)}while(k!==0);l.gzhead.hcrc&&l.pending>a&&(t.adler=v(t.adler,l.pending_buf,l.pending-a,a)),k===0&&(l.gzindex=0,l.status=91)}else l.status=91;if(l.status===91)if(l.gzhead.comment){a=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>a&&(t.adler=v(t.adler,l.pending_buf,l.pending-a,a)),R(t),a=l.pending,l.pending===l.pending_buf_size)){k=1;break}k=l.gzindex<l.gzhead.comment.length?255&l.gzhead.comment.charCodeAt(l.gzindex++):0,Q(l,k)}while(k!==0);l.gzhead.hcrc&&l.pending>a&&(t.adler=v(t.adler,l.pending_buf,l.pending-a,a)),k===0&&(l.status=103)}else l.status=103;if(l.status===103&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&R(t),l.pending+2<=l.pending_buf_size&&(Q(l,255&t.adler),Q(l,t.adler>>8&255),t.adler=0,l.status=T)):l.status=T),l.pending!==0){if(R(t),t.avail_out===0)return l.last_flush=-1,n}else if(t.avail_in===0&&Z(O)<=Z(E)&&O!==g)return it(t,-5);if(l.status===666&&t.avail_in!==0)return it(t,-5);if(t.avail_in!==0||l.lookahead!==0||O!==_&&l.status!==666){var L=l.strategy===2?function(C,H){for(var Y;;){if(C.lookahead===0&&(lt(C),C.lookahead===0)){if(H===_)return e;break}if(C.match_length=0,Y=i._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,Y&&(A(C,!1),C.strm.avail_out===0))return e}return C.insert=0,H===g?(A(C,!0),C.strm.avail_out===0?rt:U):C.last_lit&&(A(C,!1),C.strm.avail_out===0)?e:M}(l,O):l.strategy===3?function(C,H){for(var Y,V,tt,ot,st=C.window;;){if(C.lookahead<=$){if(lt(C),C.lookahead<=$&&H===_)return e;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=B&&0<C.strstart&&(V=st[tt=C.strstart-1])===st[++tt]&&V===st[++tt]&&V===st[++tt]){ot=C.strstart+$;do;while(V===st[++tt]&&V===st[++tt]&&V===st[++tt]&&V===st[++tt]&&V===st[++tt]&&V===st[++tt]&&V===st[++tt]&&V===st[++tt]&&tt<ot);C.match_length=$-(ot-tt),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=B?(Y=i._tr_tally(C,1,C.match_length-B),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(Y=i._tr_tally(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),Y&&(A(C,!1),C.strm.avail_out===0))return e}return C.insert=0,H===g?(A(C,!0),C.strm.avail_out===0?rt:U):C.last_lit&&(A(C,!1),C.strm.avail_out===0)?e:M}(l,O):c[l.level].func(l,O);if(L!==rt&&L!==U||(l.status=666),L===e||L===rt)return t.avail_out===0&&(l.last_flush=-1),n;if(L===M&&(O===1?i._tr_align(l):O!==5&&(i._tr_stored_block(l,0,0,!1),O===3&&(J(l.head),l.lookahead===0&&(l.strstart=0,l.block_start=0,l.insert=0))),R(t),t.avail_out===0))return l.last_flush=-1,n}return O!==g?n:l.wrap<=0?1:(l.wrap===2?(Q(l,255&t.adler),Q(l,t.adler>>8&255),Q(l,t.adler>>16&255),Q(l,t.adler>>24&255),Q(l,255&t.total_in),Q(l,t.total_in>>8&255),Q(l,t.total_in>>16&255),Q(l,t.total_in>>24&255)):(X(l,t.adler>>>16),X(l,65535&t.adler)),R(t),0<l.wrap&&(l.wrap=-l.wrap),l.pending!==0?n:1)},b.deflateEnd=function(t){var O;return t&&t.state?(O=t.state.status)!==p&&O!==69&&O!==73&&O!==91&&O!==103&&O!==T&&O!==666?it(t,h):(t.state=null,O===T?it(t,-3):n):h},b.deflateSetDictionary=function(t,O){var E,l,a,k,D,L,C,H,Y=O.length;if(!t||!t.state||(k=(E=t.state).wrap)===2||k===1&&E.status!==p||E.lookahead)return h;for(k===1&&(t.adler=o(t.adler,O,Y,0)),E.wrap=0,Y>=E.w_size&&(k===0&&(J(E.head),E.strstart=0,E.block_start=0,E.insert=0),H=new u.Buf8(E.w_size),u.arraySet(H,O,Y-E.w_size,E.w_size,0),O=H,Y=E.w_size),D=t.avail_in,L=t.next_in,C=t.input,t.avail_in=Y,t.next_in=0,t.input=O,lt(E);E.lookahead>=B;){for(l=E.strstart,a=E.lookahead-(B-1);E.ins_h=(E.ins_h<<E.hash_shift^E.window[l+B-1])&E.hash_mask,E.prev[l&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=l,l++,--a;);E.strstart=l,E.lookahead=B-1,lt(E)}return E.strstart+=E.lookahead,E.block_start=E.strstart,E.insert=E.lookahead,E.lookahead=0,E.match_length=E.prev_length=B-1,E.match_available=0,t.next_in=L,t.input=C,t.avail_in=D,E.wrap=k,n},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(m,P,b){P.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(m,P,b){P.exports=function(c,u){var i,o,v,w,_,g,n,h,r,d,s,f,y,I,z,N,F,j,B,$,et,p,T,e,M;i=c.state,o=c.next_in,e=c.input,v=o+(c.avail_in-5),w=c.next_out,M=c.output,_=w-(u-c.avail_out),g=w+(c.avail_out-257),n=i.dmax,h=i.wsize,r=i.whave,d=i.wnext,s=i.window,f=i.hold,y=i.bits,I=i.lencode,z=i.distcode,N=(1<<i.lenbits)-1,F=(1<<i.distbits)-1;t:do{y<15&&(f+=e[o++]<<y,y+=8,f+=e[o++]<<y,y+=8),j=I[f&N];e:for(;;){if(f>>>=B=j>>>24,y-=B,(B=j>>>16&255)===0)M[w++]=65535&j;else{if(!(16&B)){if(!(64&B)){j=I[(65535&j)+(f&(1<<B)-1)];continue e}if(32&B){i.mode=12;break t}c.msg="invalid literal/length code",i.mode=30;break t}$=65535&j,(B&=15)&&(y<B&&(f+=e[o++]<<y,y+=8),$+=f&(1<<B)-1,f>>>=B,y-=B),y<15&&(f+=e[o++]<<y,y+=8,f+=e[o++]<<y,y+=8),j=z[f&F];r:for(;;){if(f>>>=B=j>>>24,y-=B,!(16&(B=j>>>16&255))){if(!(64&B)){j=z[(65535&j)+(f&(1<<B)-1)];continue r}c.msg="invalid distance code",i.mode=30;break t}if(et=65535&j,y<(B&=15)&&(f+=e[o++]<<y,(y+=8)<B&&(f+=e[o++]<<y,y+=8)),n<(et+=f&(1<<B)-1)){c.msg="invalid distance too far back",i.mode=30;break t}if(f>>>=B,y-=B,(B=w-_)<et){if(r<(B=et-B)&&i.sane){c.msg="invalid distance too far back",i.mode=30;break t}if(T=s,(p=0)===d){if(p+=h-B,B<$){for($-=B;M[w++]=s[p++],--B;);p=w-et,T=M}}else if(d<B){if(p+=h+d-B,(B-=d)<$){for($-=B;M[w++]=s[p++],--B;);if(p=0,d<$){for($-=B=d;M[w++]=s[p++],--B;);p=w-et,T=M}}}else if(p+=d-B,B<$){for($-=B;M[w++]=s[p++],--B;);p=w-et,T=M}for(;2<$;)M[w++]=T[p++],M[w++]=T[p++],M[w++]=T[p++],$-=3;$&&(M[w++]=T[p++],1<$&&(M[w++]=T[p++]))}else{for(p=w-et;M[w++]=M[p++],M[w++]=M[p++],M[w++]=M[p++],2<($-=3););$&&(M[w++]=M[p++],1<$&&(M[w++]=M[p++]))}break}}break}}while(o<v&&w<g);o-=$=y>>3,f&=(1<<(y-=$<<3))-1,c.next_in=o,c.next_out=w,c.avail_in=o<v?v-o+5:5-(o-v),c.avail_out=w<g?g-w+257:257-(w-g),i.hold=f,i.bits=y}},{}],49:[function(m,P,b){var c=m("../utils/common"),u=m("./adler32"),i=m("./crc32"),o=m("./inffast"),v=m("./inftrees"),w=1,_=2,g=0,n=-2,h=1,r=852,d=592;function s(p){return(p>>>24&255)+(p>>>8&65280)+((65280&p)<<8)+((255&p)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(p){var T;return p&&p.state?(T=p.state,p.total_in=p.total_out=T.total=0,p.msg="",T.wrap&&(p.adler=1&T.wrap),T.mode=h,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new c.Buf32(r),T.distcode=T.distdyn=new c.Buf32(d),T.sane=1,T.back=-1,g):n}function I(p){var T;return p&&p.state?((T=p.state).wsize=0,T.whave=0,T.wnext=0,y(p)):n}function z(p,T){var e,M;return p&&p.state?(M=p.state,T<0?(e=0,T=-T):(e=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?n:(M.window!==null&&M.wbits!==T&&(M.window=null),M.wrap=e,M.wbits=T,I(p))):n}function N(p,T){var e,M;return p?(M=new f,(p.state=M).window=null,(e=z(p,T))!==g&&(p.state=null),e):n}var F,j,B=!0;function $(p){if(B){var T;for(F=new c.Buf32(512),j=new c.Buf32(32),T=0;T<144;)p.lens[T++]=8;for(;T<256;)p.lens[T++]=9;for(;T<280;)p.lens[T++]=7;for(;T<288;)p.lens[T++]=8;for(v(w,p.lens,0,288,F,0,p.work,{bits:9}),T=0;T<32;)p.lens[T++]=5;v(_,p.lens,0,32,j,0,p.work,{bits:5}),B=!1}p.lencode=F,p.lenbits=9,p.distcode=j,p.distbits=5}function et(p,T,e,M){var rt,U=p.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new c.Buf8(U.wsize)),M>=U.wsize?(c.arraySet(U.window,T,e-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(M<(rt=U.wsize-U.wnext)&&(rt=M),c.arraySet(U.window,T,e-M,rt,U.wnext),(M-=rt)?(c.arraySet(U.window,T,e-M,M,0),U.wnext=M,U.whave=U.wsize):(U.wnext+=rt,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=rt))),0}b.inflateReset=I,b.inflateReset2=z,b.inflateResetKeep=y,b.inflateInit=function(p){return N(p,15)},b.inflateInit2=N,b.inflate=function(p,T){var e,M,rt,U,it,Z,J,R,A,Q,X,K,lt,ct,nt,at,W,S,G,q,t,O,E,l,a=0,k=new c.Buf8(4),D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!p||!p.state||!p.output||!p.input&&p.avail_in!==0)return n;(e=p.state).mode===12&&(e.mode=13),it=p.next_out,rt=p.output,J=p.avail_out,U=p.next_in,M=p.input,Z=p.avail_in,R=e.hold,A=e.bits,Q=Z,X=J,O=g;t:for(;;)switch(e.mode){case h:if(e.wrap===0){e.mode=13;break}for(;A<16;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}if(2&e.wrap&&R===35615){k[e.check=0]=255&R,k[1]=R>>>8&255,e.check=i(e.check,k,2,0),A=R=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&R)<<8)+(R>>8))%31){p.msg="incorrect header check",e.mode=30;break}if((15&R)!=8){p.msg="unknown compression method",e.mode=30;break}if(A-=4,t=8+(15&(R>>>=4)),e.wbits===0)e.wbits=t;else if(t>e.wbits){p.msg="invalid window size",e.mode=30;break}e.dmax=1<<t,p.adler=e.check=1,e.mode=512&R?10:12,A=R=0;break;case 2:for(;A<16;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}if(e.flags=R,(255&e.flags)!=8){p.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){p.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=R>>8&1),512&e.flags&&(k[0]=255&R,k[1]=R>>>8&255,e.check=i(e.check,k,2,0)),A=R=0,e.mode=3;case 3:for(;A<32;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}e.head&&(e.head.time=R),512&e.flags&&(k[0]=255&R,k[1]=R>>>8&255,k[2]=R>>>16&255,k[3]=R>>>24&255,e.check=i(e.check,k,4,0)),A=R=0,e.mode=4;case 4:for(;A<16;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}e.head&&(e.head.xflags=255&R,e.head.os=R>>8),512&e.flags&&(k[0]=255&R,k[1]=R>>>8&255,e.check=i(e.check,k,2,0)),A=R=0,e.mode=5;case 5:if(1024&e.flags){for(;A<16;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}e.length=R,e.head&&(e.head.extra_len=R),512&e.flags&&(k[0]=255&R,k[1]=R>>>8&255,e.check=i(e.check,k,2,0)),A=R=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(Z<(K=e.length)&&(K=Z),K&&(e.head&&(t=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),c.arraySet(e.head.extra,M,U,K,t)),512&e.flags&&(e.check=i(e.check,M,K,U)),Z-=K,U+=K,e.length-=K),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(Z===0)break t;for(K=0;t=M[U+K++],e.head&&t&&e.length<65536&&(e.head.name+=String.fromCharCode(t)),t&&K<Z;);if(512&e.flags&&(e.check=i(e.check,M,K,U)),Z-=K,U+=K,t)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(Z===0)break t;for(K=0;t=M[U+K++],e.head&&t&&e.length<65536&&(e.head.comment+=String.fromCharCode(t)),t&&K<Z;);if(512&e.flags&&(e.check=i(e.check,M,K,U)),Z-=K,U+=K,t)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;A<16;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}if(R!==(65535&e.check)){p.msg="header crc mismatch",e.mode=30;break}A=R=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),p.adler=e.check=0,e.mode=12;break;case 10:for(;A<32;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}p.adler=e.check=s(R),A=R=0,e.mode=11;case 11:if(e.havedict===0)return p.next_out=it,p.avail_out=J,p.next_in=U,p.avail_in=Z,e.hold=R,e.bits=A,2;p.adler=e.check=1,e.mode=12;case 12:if(T===5||T===6)break t;case 13:if(e.last){R>>>=7&A,A-=7&A,e.mode=27;break}for(;A<3;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}switch(e.last=1&R,A-=1,3&(R>>>=1)){case 0:e.mode=14;break;case 1:if($(e),e.mode=20,T!==6)break;R>>>=2,A-=2;break t;case 2:e.mode=17;break;case 3:p.msg="invalid block type",e.mode=30}R>>>=2,A-=2;break;case 14:for(R>>>=7&A,A-=7&A;A<32;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}if((65535&R)!=(R>>>16^65535)){p.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&R,A=R=0,e.mode=15,T===6)break t;case 15:e.mode=16;case 16:if(K=e.length){if(Z<K&&(K=Z),J<K&&(K=J),K===0)break t;c.arraySet(rt,M,U,K,it),Z-=K,U+=K,J-=K,it+=K,e.length-=K;break}e.mode=12;break;case 17:for(;A<14;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}if(e.nlen=257+(31&R),R>>>=5,A-=5,e.ndist=1+(31&R),R>>>=5,A-=5,e.ncode=4+(15&R),R>>>=4,A-=4,286<e.nlen||30<e.ndist){p.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;A<3;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}e.lens[D[e.have++]]=7&R,R>>>=3,A-=3}for(;e.have<19;)e.lens[D[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,E={bits:e.lenbits},O=v(0,e.lens,0,19,e.lencode,0,e.work,E),e.lenbits=E.bits,O){p.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;at=(a=e.lencode[R&(1<<e.lenbits)-1])>>>16&255,W=65535&a,!((nt=a>>>24)<=A);){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}if(W<16)R>>>=nt,A-=nt,e.lens[e.have++]=W;else{if(W===16){for(l=nt+2;A<l;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}if(R>>>=nt,A-=nt,e.have===0){p.msg="invalid bit length repeat",e.mode=30;break}t=e.lens[e.have-1],K=3+(3&R),R>>>=2,A-=2}else if(W===17){for(l=nt+3;A<l;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}A-=nt,t=0,K=3+(7&(R>>>=nt)),R>>>=3,A-=3}else{for(l=nt+7;A<l;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}A-=nt,t=0,K=11+(127&(R>>>=nt)),R>>>=7,A-=7}if(e.have+K>e.nlen+e.ndist){p.msg="invalid bit length repeat",e.mode=30;break}for(;K--;)e.lens[e.have++]=t}}if(e.mode===30)break;if(e.lens[256]===0){p.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,E={bits:e.lenbits},O=v(w,e.lens,0,e.nlen,e.lencode,0,e.work,E),e.lenbits=E.bits,O){p.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,E={bits:e.distbits},O=v(_,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,E),e.distbits=E.bits,O){p.msg="invalid distances set",e.mode=30;break}if(e.mode=20,T===6)break t;case 20:e.mode=21;case 21:if(6<=Z&&258<=J){p.next_out=it,p.avail_out=J,p.next_in=U,p.avail_in=Z,e.hold=R,e.bits=A,o(p,X),it=p.next_out,rt=p.output,J=p.avail_out,U=p.next_in,M=p.input,Z=p.avail_in,R=e.hold,A=e.bits,e.mode===12&&(e.back=-1);break}for(e.back=0;at=(a=e.lencode[R&(1<<e.lenbits)-1])>>>16&255,W=65535&a,!((nt=a>>>24)<=A);){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}if(at&&!(240&at)){for(S=nt,G=at,q=W;at=(a=e.lencode[q+((R&(1<<S+G)-1)>>S)])>>>16&255,W=65535&a,!(S+(nt=a>>>24)<=A);){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}R>>>=S,A-=S,e.back+=S}if(R>>>=nt,A-=nt,e.back+=nt,e.length=W,at===0){e.mode=26;break}if(32&at){e.back=-1,e.mode=12;break}if(64&at){p.msg="invalid literal/length code",e.mode=30;break}e.extra=15&at,e.mode=22;case 22:if(e.extra){for(l=e.extra;A<l;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}e.length+=R&(1<<e.extra)-1,R>>>=e.extra,A-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;at=(a=e.distcode[R&(1<<e.distbits)-1])>>>16&255,W=65535&a,!((nt=a>>>24)<=A);){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}if(!(240&at)){for(S=nt,G=at,q=W;at=(a=e.distcode[q+((R&(1<<S+G)-1)>>S)])>>>16&255,W=65535&a,!(S+(nt=a>>>24)<=A);){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}R>>>=S,A-=S,e.back+=S}if(R>>>=nt,A-=nt,e.back+=nt,64&at){p.msg="invalid distance code",e.mode=30;break}e.offset=W,e.extra=15&at,e.mode=24;case 24:if(e.extra){for(l=e.extra;A<l;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}e.offset+=R&(1<<e.extra)-1,R>>>=e.extra,A-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){p.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(J===0)break t;if(K=X-J,e.offset>K){if((K=e.offset-K)>e.whave&&e.sane){p.msg="invalid distance too far back",e.mode=30;break}lt=K>e.wnext?(K-=e.wnext,e.wsize-K):e.wnext-K,K>e.length&&(K=e.length),ct=e.window}else ct=rt,lt=it-e.offset,K=e.length;for(J<K&&(K=J),J-=K,e.length-=K;rt[it++]=ct[lt++],--K;);e.length===0&&(e.mode=21);break;case 26:if(J===0)break t;rt[it++]=e.length,J--,e.mode=21;break;case 27:if(e.wrap){for(;A<32;){if(Z===0)break t;Z--,R|=M[U++]<<A,A+=8}if(X-=J,p.total_out+=X,e.total+=X,X&&(p.adler=e.check=e.flags?i(e.check,rt,X,it-X):u(e.check,rt,X,it-X)),X=J,(e.flags?R:s(R))!==e.check){p.msg="incorrect data check",e.mode=30;break}A=R=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;A<32;){if(Z===0)break t;Z--,R+=M[U++]<<A,A+=8}if(R!==(4294967295&e.total)){p.msg="incorrect length check",e.mode=30;break}A=R=0}e.mode=29;case 29:O=1;break t;case 30:O=-3;break t;case 31:return-4;case 32:default:return n}return p.next_out=it,p.avail_out=J,p.next_in=U,p.avail_in=Z,e.hold=R,e.bits=A,(e.wsize||X!==p.avail_out&&e.mode<30&&(e.mode<27||T!==4))&&et(p,p.output,p.next_out,X-p.avail_out)?(e.mode=31,-4):(Q-=p.avail_in,X-=p.avail_out,p.total_in+=Q,p.total_out+=X,e.total+=X,e.wrap&&X&&(p.adler=e.check=e.flags?i(e.check,rt,X,p.next_out-X):u(e.check,rt,X,p.next_out-X)),p.data_type=e.bits+(e.last?64:0)+(e.mode===12?128:0)+(e.mode===20||e.mode===15?256:0),(Q==0&&X===0||T===4)&&O===g&&(O=-5),O)},b.inflateEnd=function(p){if(!p||!p.state)return n;var T=p.state;return T.window&&(T.window=null),p.state=null,g},b.inflateGetHeader=function(p,T){var e;return p&&p.state&&2&(e=p.state).wrap?((e.head=T).done=!1,g):n},b.inflateSetDictionary=function(p,T){var e,M=T.length;return p&&p.state?(e=p.state).wrap!==0&&e.mode!==11?n:e.mode===11&&u(1,T,M,0)!==e.check?-3:et(p,T,M,M)?(e.mode=31,-4):(e.havedict=1,g):n},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(m,P,b){var c=m("../utils/common"),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];P.exports=function(w,_,g,n,h,r,d,s){var f,y,I,z,N,F,j,B,$,et=s.bits,p=0,T=0,e=0,M=0,rt=0,U=0,it=0,Z=0,J=0,R=0,A=null,Q=0,X=new c.Buf16(16),K=new c.Buf16(16),lt=null,ct=0;for(p=0;p<=15;p++)X[p]=0;for(T=0;T<n;T++)X[_[g+T]]++;for(rt=et,M=15;1<=M&&X[M]===0;M--);if(M<rt&&(rt=M),M===0)return h[r++]=20971520,h[r++]=20971520,s.bits=1,0;for(e=1;e<M&&X[e]===0;e++);for(rt<e&&(rt=e),p=Z=1;p<=15;p++)if(Z<<=1,(Z-=X[p])<0)return-1;if(0<Z&&(w===0||M!==1))return-1;for(K[1]=0,p=1;p<15;p++)K[p+1]=K[p]+X[p];for(T=0;T<n;T++)_[g+T]!==0&&(d[K[_[g+T]]++]=T);if(F=w===0?(A=lt=d,19):w===1?(A=u,Q-=257,lt=i,ct-=257,256):(A=o,lt=v,-1),p=e,N=r,it=T=R=0,I=-1,z=(J=1<<(U=rt))-1,w===1&&852<J||w===2&&592<J)return 1;for(;;){for(j=p-it,$=d[T]<F?(B=0,d[T]):d[T]>F?(B=lt[ct+d[T]],A[Q+d[T]]):(B=96,0),f=1<<p-it,e=y=1<<U;h[N+(R>>it)+(y-=f)]=j<<24|B<<16|$|0,y!==0;);for(f=1<<p-1;R&f;)f>>=1;if(f!==0?(R&=f-1,R+=f):R=0,T++,--X[p]==0){if(p===M)break;p=_[g+d[T]]}if(rt<p&&(R&z)!==I){for(it===0&&(it=rt),N+=e,Z=1<<(U=p-it);U+it<M&&!((Z-=X[U+it])<=0);)U++,Z<<=1;if(J+=1<<U,w===1&&852<J||w===2&&592<J)return 1;h[I=R&z]=rt<<24|U<<16|N-r|0}}return R!==0&&(h[N+R]=p-it<<24|64<<16|0),s.bits=rt,0}},{"../utils/common":41}],51:[function(m,P,b){P.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(m,P,b){var c=m("../utils/common"),u=0,i=1;function o(a){for(var k=a.length;0<=--k;)a[k]=0}var v=0,w=29,_=256,g=_+1+w,n=30,h=19,r=2*g+1,d=15,s=16,f=7,y=256,I=16,z=17,N=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],et=new Array(2*(g+2));o(et);var p=new Array(2*n);o(p);var T=new Array(512);o(T);var e=new Array(256);o(e);var M=new Array(w);o(M);var rt,U,it,Z=new Array(n);function J(a,k,D,L,C){this.static_tree=a,this.extra_bits=k,this.extra_base=D,this.elems=L,this.max_length=C,this.has_stree=a&&a.length}function R(a,k){this.dyn_tree=a,this.max_code=0,this.stat_desc=k}function A(a){return a<256?T[a]:T[256+(a>>>7)]}function Q(a,k){a.pending_buf[a.pending++]=255&k,a.pending_buf[a.pending++]=k>>>8&255}function X(a,k,D){a.bi_valid>s-D?(a.bi_buf|=k<<a.bi_valid&65535,Q(a,a.bi_buf),a.bi_buf=k>>s-a.bi_valid,a.bi_valid+=D-s):(a.bi_buf|=k<<a.bi_valid&65535,a.bi_valid+=D)}function K(a,k,D){X(a,D[2*k],D[2*k+1])}function lt(a,k){for(var D=0;D|=1&a,a>>>=1,D<<=1,0<--k;);return D>>>1}function ct(a,k,D){var L,C,H=new Array(d+1),Y=0;for(L=1;L<=d;L++)H[L]=Y=Y+D[L-1]<<1;for(C=0;C<=k;C++){var V=a[2*C+1];V!==0&&(a[2*C]=lt(H[V]++,V))}}function nt(a){var k;for(k=0;k<g;k++)a.dyn_ltree[2*k]=0;for(k=0;k<n;k++)a.dyn_dtree[2*k]=0;for(k=0;k<h;k++)a.bl_tree[2*k]=0;a.dyn_ltree[2*y]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function at(a){8<a.bi_valid?Q(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function W(a,k,D,L){var C=2*k,H=2*D;return a[C]<a[H]||a[C]===a[H]&&L[k]<=L[D]}function S(a,k,D){for(var L=a.heap[D],C=D<<1;C<=a.heap_len&&(C<a.heap_len&&W(k,a.heap[C+1],a.heap[C],a.depth)&&C++,!W(k,L,a.heap[C],a.depth));)a.heap[D]=a.heap[C],D=C,C<<=1;a.heap[D]=L}function G(a,k,D){var L,C,H,Y,V=0;if(a.last_lit!==0)for(;L=a.pending_buf[a.d_buf+2*V]<<8|a.pending_buf[a.d_buf+2*V+1],C=a.pending_buf[a.l_buf+V],V++,L===0?K(a,C,k):(K(a,(H=e[C])+_+1,k),(Y=F[H])!==0&&X(a,C-=M[H],Y),K(a,H=A(--L),D),(Y=j[H])!==0&&X(a,L-=Z[H],Y)),V<a.last_lit;);K(a,y,k)}function q(a,k){var D,L,C,H=k.dyn_tree,Y=k.stat_desc.static_tree,V=k.stat_desc.has_stree,tt=k.stat_desc.elems,ot=-1;for(a.heap_len=0,a.heap_max=r,D=0;D<tt;D++)H[2*D]!==0?(a.heap[++a.heap_len]=ot=D,a.depth[D]=0):H[2*D+1]=0;for(;a.heap_len<2;)H[2*(C=a.heap[++a.heap_len]=ot<2?++ot:0)]=1,a.depth[C]=0,a.opt_len--,V&&(a.static_len-=Y[2*C+1]);for(k.max_code=ot,D=a.heap_len>>1;1<=D;D--)S(a,H,D);for(C=tt;D=a.heap[1],a.heap[1]=a.heap[a.heap_len--],S(a,H,1),L=a.heap[1],a.heap[--a.heap_max]=D,a.heap[--a.heap_max]=L,H[2*C]=H[2*D]+H[2*L],a.depth[C]=(a.depth[D]>=a.depth[L]?a.depth[D]:a.depth[L])+1,H[2*D+1]=H[2*L+1]=C,a.heap[1]=C++,S(a,H,1),2<=a.heap_len;);a.heap[--a.heap_max]=a.heap[1],function(st,_t){var It,gt,Ct,dt,At,Pt,bt=_t.dyn_tree,Lt=_t.max_code,Ht=_t.stat_desc.static_tree,$t=_t.stat_desc.has_stree,Gt=_t.stat_desc.extra_bits,Nt=_t.stat_desc.extra_base,Et=_t.stat_desc.max_length,Rt=0;for(dt=0;dt<=d;dt++)st.bl_count[dt]=0;for(bt[2*st.heap[st.heap_max]+1]=0,It=st.heap_max+1;It<r;It++)Et<(dt=bt[2*bt[2*(gt=st.heap[It])+1]+1]+1)&&(dt=Et,Rt++),bt[2*gt+1]=dt,Lt<gt||(st.bl_count[dt]++,At=0,Nt<=gt&&(At=Gt[gt-Nt]),Pt=bt[2*gt],st.opt_len+=Pt*(dt+At),$t&&(st.static_len+=Pt*(Ht[2*gt+1]+At)));if(Rt!==0){do{for(dt=Et-1;st.bl_count[dt]===0;)dt--;st.bl_count[dt]--,st.bl_count[dt+1]+=2,st.bl_count[Et]--,Rt-=2}while(0<Rt);for(dt=Et;dt!==0;dt--)for(gt=st.bl_count[dt];gt!==0;)Lt<(Ct=st.heap[--It])||(bt[2*Ct+1]!==dt&&(st.opt_len+=(dt-bt[2*Ct+1])*bt[2*Ct],bt[2*Ct+1]=dt),gt--)}}(a,k),ct(H,ot,a.bl_count)}function t(a,k,D){var L,C,H=-1,Y=k[1],V=0,tt=7,ot=4;for(Y===0&&(tt=138,ot=3),k[2*(D+1)+1]=65535,L=0;L<=D;L++)C=Y,Y=k[2*(L+1)+1],++V<tt&&C===Y||(V<ot?a.bl_tree[2*C]+=V:C!==0?(C!==H&&a.bl_tree[2*C]++,a.bl_tree[2*I]++):V<=10?a.bl_tree[2*z]++:a.bl_tree[2*N]++,H=C,ot=(V=0)===Y?(tt=138,3):C===Y?(tt=6,3):(tt=7,4))}function O(a,k,D){var L,C,H=-1,Y=k[1],V=0,tt=7,ot=4;for(Y===0&&(tt=138,ot=3),L=0;L<=D;L++)if(C=Y,Y=k[2*(L+1)+1],!(++V<tt&&C===Y)){if(V<ot)for(;K(a,C,a.bl_tree),--V!=0;);else C!==0?(C!==H&&(K(a,C,a.bl_tree),V--),K(a,I,a.bl_tree),X(a,V-3,2)):V<=10?(K(a,z,a.bl_tree),X(a,V-3,3)):(K(a,N,a.bl_tree),X(a,V-11,7));H=C,ot=(V=0)===Y?(tt=138,3):C===Y?(tt=6,3):(tt=7,4)}}o(Z);var E=!1;function l(a,k,D,L){X(a,(v<<1)+(L?1:0),3),function(C,H,Y,V){at(C),Q(C,Y),Q(C,~Y),c.arraySet(C.pending_buf,C.window,H,Y,C.pending),C.pending+=Y}(a,k,D)}b._tr_init=function(a){E||(function(){var k,D,L,C,H,Y=new Array(d+1);for(C=L=0;C<w-1;C++)for(M[C]=L,k=0;k<1<<F[C];k++)e[L++]=C;for(e[L-1]=C,C=H=0;C<16;C++)for(Z[C]=H,k=0;k<1<<j[C];k++)T[H++]=C;for(H>>=7;C<n;C++)for(Z[C]=H<<7,k=0;k<1<<j[C]-7;k++)T[256+H++]=C;for(D=0;D<=d;D++)Y[D]=0;for(k=0;k<=143;)et[2*k+1]=8,k++,Y[8]++;for(;k<=255;)et[2*k+1]=9,k++,Y[9]++;for(;k<=279;)et[2*k+1]=7,k++,Y[7]++;for(;k<=287;)et[2*k+1]=8,k++,Y[8]++;for(ct(et,g+1,Y),k=0;k<n;k++)p[2*k+1]=5,p[2*k]=lt(k,5);rt=new J(et,F,_+1,g,d),U=new J(p,j,0,n,d),it=new J(new Array(0),B,0,h,f)}(),E=!0),a.l_desc=new R(a.dyn_ltree,rt),a.d_desc=new R(a.dyn_dtree,U),a.bl_desc=new R(a.bl_tree,it),a.bi_buf=0,a.bi_valid=0,nt(a)},b._tr_stored_block=l,b._tr_flush_block=function(a,k,D,L){var C,H,Y=0;0<a.level?(a.strm.data_type===2&&(a.strm.data_type=function(V){var tt,ot=4093624447;for(tt=0;tt<=31;tt++,ot>>>=1)if(1&ot&&V.dyn_ltree[2*tt]!==0)return u;if(V.dyn_ltree[18]!==0||V.dyn_ltree[20]!==0||V.dyn_ltree[26]!==0)return i;for(tt=32;tt<_;tt++)if(V.dyn_ltree[2*tt]!==0)return i;return u}(a)),q(a,a.l_desc),q(a,a.d_desc),Y=function(V){var tt;for(t(V,V.dyn_ltree,V.l_desc.max_code),t(V,V.dyn_dtree,V.d_desc.max_code),q(V,V.bl_desc),tt=h-1;3<=tt&&V.bl_tree[2*$[tt]+1]===0;tt--);return V.opt_len+=3*(tt+1)+5+5+4,tt}(a),C=a.opt_len+3+7>>>3,(H=a.static_len+3+7>>>3)<=C&&(C=H)):C=H=D+5,D+4<=C&&k!==-1?l(a,k,D,L):a.strategy===4||H===C?(X(a,2+(L?1:0),3),G(a,et,p)):(X(a,4+(L?1:0),3),function(V,tt,ot,st){var _t;for(X(V,tt-257,5),X(V,ot-1,5),X(V,st-4,4),_t=0;_t<st;_t++)X(V,V.bl_tree[2*$[_t]+1],3);O(V,V.dyn_ltree,tt-1),O(V,V.dyn_dtree,ot-1)}(a,a.l_desc.max_code+1,a.d_desc.max_code+1,Y+1),G(a,a.dyn_ltree,a.dyn_dtree)),nt(a),L&&at(a)},b._tr_tally=function(a,k,D){return a.pending_buf[a.d_buf+2*a.last_lit]=k>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&k,a.pending_buf[a.l_buf+a.last_lit]=255&D,a.last_lit++,k===0?a.dyn_ltree[2*D]++:(a.matches++,k--,a.dyn_ltree[2*(e[D]+_+1)]++,a.dyn_dtree[2*A(k)]++),a.last_lit===a.lit_bufsize-1},b._tr_align=function(a){X(a,2,3),K(a,y,et),function(k){k.bi_valid===16?(Q(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)}(a)}},{"../utils/common":41}],53:[function(m,P,b){P.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(m,P,b){(function(c){(function(u,i){if(!u.setImmediate){var o,v,w,_,g=1,n={},h=!1,r=u.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(u);d=d&&d.setTimeout?d:u,o={}.toString.call(u.process)==="[object process]"?function(I){process.nextTick(function(){f(I)})}:function(){if(u.postMessage&&!u.importScripts){var I=!0,z=u.onmessage;return u.onmessage=function(){I=!1},u.postMessage("","*"),u.onmessage=z,I}}()?(_="setImmediate$"+Math.random()+"$",u.addEventListener?u.addEventListener("message",y,!1):u.attachEvent("onmessage",y),function(I){u.postMessage(_+I,"*")}):u.MessageChannel?((w=new MessageChannel).port1.onmessage=function(I){f(I.data)},function(I){w.port2.postMessage(I)}):r&&"onreadystatechange"in r.createElement("script")?(v=r.documentElement,function(I){var z=r.createElement("script");z.onreadystatechange=function(){f(I),z.onreadystatechange=null,v.removeChild(z),z=null},v.appendChild(z)}):function(I){setTimeout(f,0,I)},d.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var z=new Array(arguments.length-1),N=0;N<z.length;N++)z[N]=arguments[N+1];var F={callback:I,args:z};return n[g]=F,o(g),g++},d.clearImmediate=s}function s(I){delete n[I]}function f(I){if(h)setTimeout(f,0,I);else{var z=n[I];if(z){h=!0;try{(function(N){var F=N.callback,j=N.args;switch(j.length){case 0:F();break;case 1:F(j[0]);break;case 2:F(j[0],j[1]);break;case 3:F(j[0],j[1],j[2]);break;default:F.apply(i,j)}})(z)}finally{s(I),h=!1}}}}function y(I){I.source===u&&typeof I.data=="string"&&I.data.indexOf(_)===0&&f(+I.data.slice(_.length))}})(typeof self=="undefined"?c===void 0?this:c:self)}).call(this,typeof Ft!="undefined"?Ft:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(Wt);var Jt=Wt.exports;const Qt=qt(Jt),te={class:"page mpi-algorithm-page"},ee={class:"page-header"},re={class:"header-actions"},ie={class:"export-controls"},ne={class:"export-toggle"},se=["disabled"],ae={key:0,class:"export-status"},oe={key:1,class:"export-done"},le={key:2,class:"export-error"},ue={key:3,class:"export-progress"},de={class:"card flow-card"},ce={class:"section-header flow-header"},he={class:"mode-tabs"},fe={class:"flow-figure"},pe=["src"],me={class:"flow-steps"},_e=["onMouseenter"],ve={class:"step-index"},ge={class:"step-content"},be={class:"card indicators-card"},ye={class:"indicator-grid"},we={class:"indicator-card"},ke={class:"figure-block"},xe=["src"],Se={class:"formula"},ze=["innerHTML"],Ie=["innerHTML"],Ce=["innerHTML"],Ee=["innerHTML"],Ae={class:"indicator-card"},Re={class:"figure-block"},Oe=["src"],Be={class:"interactive-control"},Te={class:"control-header"},Fe={class:"bri-sim-result"},De={class:"bri-value-bar"},Pe={class:"bri-bar-track"},Me={class:"bri-value"},Le={class:"formula"},Ne=["innerHTML"],Ue=["innerHTML"],je=["innerHTML"],Ze=["innerHTML"],We={class:"indicator-card"},He={class:"figure-block"},$e=["src"],Ge={class:"formula"},Ve=["innerHTML"],Ke=["innerHTML"],Xe=["innerHTML"],Ye={class:"asi-animation-container"},qe={class:"stress-bars"},Je={class:"card weight-card"},Qe={class:"weight-grid"},tr={class:"weight-controls"},er={class:"weight-label"},rr={class:"weight-value"},ir=["onUpdate:modelValue"],nr={class:"weight-hint"},sr={class:"weight-preview"},ar={class:"stack-bar"},or={class:"formula formula-inline"},lr=["innerHTML"],ur={class:"card example-card"},dr={class:"example-grid"},cr={class:"example-table"},hr={class:"sample-selector"},fr=["onClick"],pr={class:"example-result"},mr={class:"result-value"},_r={class:"result-breakdown"},vr={class:"card output-card"},gr={class:"output-steps"},br={__name:"MpiAlgorithm",setup(mt){let yt=null;const m=W=>{if(!yt)return W;try{return yt.renderToString(W,{throwOnError:!1,displayMode:!0,output:"html",strict:!1})}catch(S){return console.error("KaTeX render error:",S),W}},P={rsi:{main:"\\text{RSI} = \\min(\\text{RSI}_{\\text{norm}} + \\text{RSI}_{\\text{key}} + \\text{RSI}_{\\text{struct}}, 0, 100)",norm:"\\text{RSI}_{\\text{norm}} = \\min\\left(\\frac{\\bar{\\sigma_t}}{10}, 1\\right) \\times 40",key:"\\text{RSI}_{\\text{key}} = \\min(n_{\\text{key}} \\times 15, 30)",struct:"\\text{RSI}_{\\text{struct}} = (1 - r_{\\text{soft}}) \\times 40"},bri:{main:"\\text{BRI} = \\max(100 - P_{\\text{depth}} - P_{\\text{hard}} - P_{\\text{thick}}, 0)",depth:"P_{\\text{depth}} = \\min\\left(\\frac{H - H_{\\text{crit}}}{200}, 1\\right) \\times 40",hard:"P_{\\text{hard}} = \\min\\left(\\frac{E_{\\text{hard}}}{500}, 1\\right) \\times 30",thick:"P_{\\text{thick}} = \\min\\left(\\frac{h_{\\text{coal}}}{10}, 1\\right) \\times 30"},asi:{main:"\\text{ASI} = S_{\\text{stiff}} + S_{\\text{fric}}",stiff:"S_{\\text{stiff}} = \\min\\left(\\frac{\\bar{E}}{35} \\times 50, 50\\right)",fric:"S_{\\text{fric}} = \\max\\left(\\frac{\\bar{\\varphi} - 20}{25} \\times 50, 0\\right)"},mpi:"\\text{MPI} = w_r \\cdot \\text{RSI} + w_b \\cdot \\text{BRI} + w_a \\cdot \\text{ASI}"},b=Zt({rsi:{main:"",norm:"",key:"",struct:""},bri:{main:"",depth:"",hard:"",thick:""},asi:{main:"",stiff:"",fric:""}});Kt(()=>Ot(this,null,function*(){try{const W=yield Ut(()=>import("./katex-BpsngXkd.js"),[]);yt=W.default||W,yield Ut(()=>Promise.resolve({}),__vite__mapDeps([0])),b.rsi.main=m(P.rsi.main),b.rsi.norm=m(P.rsi.norm),b.rsi.key=m(P.rsi.key),b.rsi.struct=m(P.rsi.struct),b.bri.main=m(P.bri.main),b.bri.depth=m(P.bri.depth),b.bri.hard=m(P.bri.hard),b.bri.thick=m(P.bri.thick),b.asi.main=m(P.asi.main),b.asi.stiff=m(P.asi.stiff),b.asi.fric=m(P.asi.fric)}catch(W){console.error("Failed to load KaTeX:",W),Object.keys(P).forEach(S=>{typeof P[S]=="string"||typeof P[S]=="object"&&Object.keys(P[S]).forEach(G=>{b[S][G]=P[S][G]})})}}));const c=W=>{if(!yt)return W;try{return yt.renderToString(W,{throwOnError:!1,displayMode:!1,output:"html",strict:!1})}catch(S){return console.error("KaTeX render error:",S),W}},u=[{key:"input",title:"",subtitle:" / ",detailTitle:"",detail:""},{key:"sub",title:"",subtitle:"RSI / BRI / ASI",detailTitle:"",detail:""},{key:"fusion",title:"",subtitle:" 0.4 / 0.35 / 0.25",detailTitle:"",detail:" MPI"},{key:"risk",title:"",subtitle:" /  / ",detailTitle:"",detail:" MPI "},{key:"output",title:"",subtitle:" / ",detailTitle:"",detail:""}],i=ft(0),o=ft(!1),v=ft("sub"),w=ft("svg"),_=ft("current"),g=ft(!1),n=ft(!1),h=ft(0),r=ft(""),d=ft(""),s=ft(!1),f=Zt({rsi:.4,bri:.35,asi:.25}),y=ft(600),I=vt(()=>{const W=y.value,S=400,G=W>S?Math.min((W-S)/200,1)*40:0;return Math.min(Math.max(100-G-15-15,0),100)}),z=vt(()=>{const W=I.value;return W>=70?"low":W>=50?"medium":"high"}),N=vt(()=>{const W=I.value;return W>=70?"":W>=50?"":""}),F=vt(()=>{const W=I.value;return W>=70?"linear-gradient(90deg, #22c55e, #16a34a)":W>=50?"linear-gradient(90deg, #f59e0b, #d97706)":"linear-gradient(90deg, #ef4444, #dc2626)"}),j=vt(()=>{const W=[];for(let S=0;S<20;S++){const G=S/19;let q;G<.4?q=30+Math.random()*10:G<.6?q=30+(1-Math.abs(G-.5)/.1)*60+Math.random()*5:q=30+Math.exp(-(G-.6)*3)*30+Math.random()*10,W.push({height:Math.min(Math.max(q,10),95),color:q>70?"linear-gradient(180deg, #ef4444, #dc2626)":q>50?"linear-gradient(180deg, #f59e0b, #d97706)":"linear-gradient(180deg, #22c55e, #16a34a)",delay:S*.05})}return W}),B=vt(()=>50),$=[{key:"rsi",label:"RSI ",default:"0.40"},{key:"bri",label:"BRI ",default:"0.35"},{key:"asi",label:"ASI ",default:"0.25"}],et=vt(()=>f.rsi+f.bri+f.asi),p=vt(()=>{const W=et.value||1;return{rsi:f.rsi/W,bri:f.bri/W,asi:f.asi/W}}),T=[{id:"a",name:" A",point:{burial_depth:86,thickness:6},strata:[{name:"1",thickness:6,tensile_strength:2.3,compressive_strength:20.51,elastic_modulus:3,friction_angle:28},{name:"2",thickness:1.5,tensile_strength:1.2,compressive_strength:14.32,elastic_modulus:9.8,friction_angle:17.5},{name:"3",thickness:8,tensile_strength:4.5,compressive_strength:26.93,elastic_modulus:17,friction_angle:22.3},{name:"4",thickness:12.5,tensile_strength:10.5,compressive_strength:35.36,elastic_modulus:28,friction_angle:20},{name:"5",thickness:7,tensile_strength:3.6,compressive_strength:33.93,elastic_modulus:25,friction_angle:28}]},{id:"b",name:" B",point:{burial_depth:967.7,thickness:5.9},strata:[{name:"1",thickness:5.9,tensile_strength:2.4,compressive_strength:27,elastic_modulus:.5,friction_angle:42.6},{name:"2",thickness:1.5,tensile_strength:4.7,compressive_strength:38.3,elastic_modulus:10.8,friction_angle:36},{name:"3",thickness:15.7,tensile_strength:3.1,compressive_strength:32.8,elastic_modulus:9.3,friction_angle:38.8},{name:"4",thickness:20,tensile_strength:2.1,compressive_strength:27,elastic_modulus:8.34,friction_angle:37.8},{name:"5",thickness:46,tensile_strength:3.1,compressive_strength:27,elastic_modulus:9.3,friction_angle:38.8}]}],e=ft(T[0].id),M=vt(()=>T.find(W=>W.id===e.value)||T[0]),rt=W=>W.filter(G=>G.compressive_strength>60&&G.thickness>5&&G.elastic_modulus/35>.8),U=W=>{const S=W.slice(0,2),G=S.reduce((D,L)=>D+L.thickness,0),q=G>0?S.reduce((D,L)=>D+L.thickness*L.tensile_strength,0)/G:0,t=rt(W),O=Math.min(t.length*15,30),E=W.reduce((D,L)=>D+L.thickness,0),a=(1-(E>0?W.filter(D=>D.compressive_strength<30).reduce((D,L)=>D+L.thickness,0)/E:0))*40,k=Math.min(q/10,1)*40;return Math.min(Math.max(k+O+a,0),100)},it=(W,S)=>{const G=W.burial_depth||0,q=W.thickness||0,t=400,O=G>t?Math.min((G-t)/200,1)*40:0,E=S.filter(k=>k.compressive_strength>60).reduce((k,D)=>k+D.thickness*D.elastic_modulus,0),l=Math.min(E/500,1)*30,a=Math.min(q/10,1)*30;return Math.min(Math.max(100-O-l-a,0),100)},Z=W=>{const S=W.reduce((E,l)=>E+l.thickness,0);if(S===0)return 50;const G=W.reduce((E,l)=>E+l.elastic_modulus*l.thickness,0)/S,q=Math.min(G/35*50,50),t=W.reduce((E,l)=>E+l.friction_angle*l.thickness,0)/S,O=Math.max(Math.min((t-20)/25*50,50),0);return Math.min(Math.max(q+O,0),100)},J=vt(()=>{const{point:W,strata:S}=M.value,G=U(S),q=it(W,S),t=Z(S);return{mpi:p.value.rsi*G+p.value.bri*q+p.value.asi*t,breakdown:{rsi:G,bri:q,asi:t}}}),R=vt(()=>{const W=J.value.mpi;return W>=70?{label:"",class:"low"}:W>=50?{label:"",class:"medium"}:{label:"",class:"high"}}),A=vt(()=>[{label:" (m)",value:M.value.point.burial_depth.toFixed(1)},{label:" (m)",value:M.value.point.thickness.toFixed(1)},{label:"",value:rt(M.value.strata).length},{label:"RSI",value:J.value.breakdown.rsi.toFixed(2)},{label:"BRI",value:J.value.breakdown.bri.toFixed(2)},{label:"ASI",value:J.value.breakdown.asi.toFixed(2)},{label:" (RSI/BRI/ASI)",value:`${p.value.rsi.toFixed(2)} / ${p.value.bri.toFixed(2)} / ${p.value.asi.toFixed(2)}`},{label:"MPI",value:J.value.mpi.toFixed(2)}]),Q=[{title:"1. ",desc:""},{title:"2. ",desc:" IDW/Linear/Nearest "},{title:"3. ",desc:" ODI "},{title:"4. ",desc:""}],X=W=>{W.forEach((S,G)=>{setTimeout(()=>{const q=document.createElement("a");q.href=`/mpi-algorithm/${S}`,q.download=S,document.body.appendChild(q),q.click(),document.body.removeChild(q)},G*200)})},K=W=>{const S=w.value,q=W==="bw"?"_bw":"";return v.value==="sub"?[`flow_overview${q}.${S}`,`rsi_stability${q}.${S}`,`bri_depth_curve${q}.${S}`,`asi_stress_profile${q}.${S}`,`mpi_colorbar${q}.${S}`]:[`flow_overview${q}.${S}`,`rsi_stability${q}.${S}`,`bri_depth_curve${q}.${S}`,`asi_stress_profile${q}.${S}`,`mpi_colorbar${q}.${S}`]},lt=()=>{const S=new Date().toISOString().slice(0,10).replace(/-/g,"");return`kuangyaxitong-mpi-${v.value}-${w.value}-${S}.zip`},ct=W=>Ot(this,null,function*(){const S=new Qt,G=S.folder("mpi-figures");let q=0;for(const E of W){const a=yield(yield fetch(`/mpi-algorithm/${E}`)).blob();G.file(E,a),q+=1,h.value=Math.round(q/W.length*80),r.value=`${q}/${W.length}`}r.value="ZIP...";const t=yield S.generateAsync({type:"blob"},E=>{h.value=80+Math.round(E.percent*.2)}),O=document.createElement("a");O.href=URL.createObjectURL(t),O.download=lt(),document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(O.href)}),nt=()=>Ot(this,null,function*(){n.value=!0,h.value=0,r.value="...",d.value="",s.value=!1;try{const S=(_.value==="both"?["color","bw"]:[o.value?"bw":"color"]).flatMap(G=>K(G));g.value?yield ct(S):(r.value=` ${S.length} ...`,X(S),h.value=100),r.value="",s.value=!0}catch(W){r.value="",d.value=`${(W==null?void 0:W.message)||""}`}finally{setTimeout(()=>{n.value=!1,r.value="",d.value="",h.value=0,s.value=!1},1200)}}),at=()=>{const W=["chrome://downloads/","edge://downloads/all","about:downloads"];let S=!1;for(const G of W)if(window.open(G,"_blank")){S=!0;break}S||(r.value=" Ctrl+J ")};return(W,S)=>(pt(),ht("div",te,[x("div",ee,[S[11]||(S[11]=Bt('<div class="page-header-content" data-v-45fda31c><div class="page-header-icon" data-v-45fda31c><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-45fda31c><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z" data-v-45fda31c></path><path d="M8 12h8" data-v-45fda31c></path><path d="M12 8v8" data-v-45fda31c></path></svg></div><div data-v-45fda31c><h1 class="page-title" data-v-45fda31c>MPI </h1><p class="page-subtitle" data-v-45fda31c>3-5 </p></div></div>',1)),x("div",re,[x("div",ie,[xt(x("select",{"onUpdate:modelValue":S[0]||(S[0]=G=>v.value=G),class:"param-select export-select"},[...S[7]||(S[7]=[x("option",{value:"sub"},"",-1),x("option",{value:"all"},"",-1)])],512),[[Mt,v.value]]),xt(x("select",{"onUpdate:modelValue":S[1]||(S[1]=G=>w.value=G),class:"param-select export-select"},[...S[8]||(S[8]=[x("option",{value:"svg"},"SVG",-1),x("option",{value:"png"},"PNG",-1)])],512),[[Mt,w.value]]),xt(x("select",{"onUpdate:modelValue":S[2]||(S[2]=G=>_.value=G),class:"param-select export-select"},[...S[9]||(S[9]=[x("option",{value:"current"},"",-1),x("option",{value:"both"},"+",-1)])],512),[[Mt,_.value]]),x("label",ne,[xt(x("input",{type:"checkbox","onUpdate:modelValue":S[3]||(S[3]=G=>g.value=G)},null,512),[[Xt,g.value]]),S[10]||(S[10]=Yt(" ZIP ",-1))]),x("button",{class:"btn ghost",disabled:n.value,onClick:nt},ut(n.value?"...":""),9,se),x("button",{class:wt(["btn ghost",{highlight:s.value}]),onClick:at},"",2)]),r.value?(pt(),ht("div",ae,ut(r.value),1)):Tt("",!0),s.value?(pt(),ht("div",oe,"")):Tt("",!0),d.value?(pt(),ht("div",le,ut(d.value),1)):Tt("",!0),n.value?(pt(),ht("div",ue,[x("div",{class:"export-progress-bar",style:kt({width:`${h.value}%`})},null,4)])):Tt("",!0)])]),S[43]||(S[43]=Bt('<section class="card overview-card" data-v-45fda31c><div class="overview-text" data-v-45fda31c><h2 data-v-45fda31c></h2><p data-v-45fda31c> MPI <strong data-v-45fda31c></strong> RSI / BRI / ASI  <strong data-v-45fda31c></strong> </p></div><div class="overview-badges" data-v-45fda31c><span class="badge" data-v-45fda31c></span><span class="badge" data-v-45fda31c></span><span class="badge" data-v-45fda31c></span></div></section>',1)),x("section",de,[x("div",ce,[S[12]||(S[12]=x("div",null,[x("h2",null,""),x("p",null,"")],-1)),x("div",he,[x("button",{class:wt(["mode-tab",{active:!o.value}]),onClick:S[4]||(S[4]=G=>o.value=!1)},"",2),x("button",{class:wt(["mode-tab",{active:o.value}]),onClick:S[5]||(S[5]=G=>o.value=!0)},"",2)])]),x("div",fe,[x("img",{src:o.value?"/mpi-algorithm/flow_overview_bw.svg":"/mpi-algorithm/flow_overview.svg",alt:"MPI",class:"flow-image"},null,8,pe),S[13]||(S[13]=x("p",{class:"figure-caption"},"1 | MPI ",-1))]),x("div",me,[(pt(),ht(St,null,zt(u,(G,q)=>x("div",{key:G.key,class:wt(["flow-step",{active:i.value===q}]),onMouseenter:t=>i.value=q},[x("div",ve,ut(q+1),1),x("div",ge,[x("h3",null,ut(G.title),1),x("p",null,ut(G.subtitle),1)])],42,_e)),64))])]),x("section",be,[S[33]||(S[33]=x("div",{class:"section-header"},[x("h2",null,""),x("p",null,"")],-1)),x("div",ye,[x("div",we,[S[16]||(S[16]=x("div",{class:"indicator-head"},[x("span",{class:"indicator-tag"},"RSI"),x("h3",null,"")],-1)),S[17]||(S[17]=x("ul",null,[x("li",null,""),x("li",null,"")],-1)),x("div",ke,[x("img",{src:o.value?"/mpi-algorithm/rsi_stability_bw.svg":"/mpi-algorithm/rsi_stability.svg",alt:"RSI"},null,8,xe),S[14]||(S[14]=x("span",null,"2 | ",-1))]),x("div",Se,[S[15]||(S[15]=x("div",{class:"formula-title"},"",-1)),x("div",{class:"formula-body formula-katex",innerHTML:b.rsi.main},null,8,ze),x("div",{class:"formula-body formula-katex",innerHTML:b.rsi.norm},null,8,Ie),x("div",{class:"formula-body formula-katex",innerHTML:b.rsi.key},null,8,Ce),x("div",{class:"formula-body formula-katex",innerHTML:b.rsi.struct},null,8,Ee)]),S[18]||(S[18]=x("div",{class:"indicator-visual"},[x("div",{class:"visual-bar"},[x("span",null," "),x("div",{class:"bar-track"},[x("div",{class:"bar-fill",style:{width:"72%"}})])])],-1))]),x("div",Ae,[S[23]||(S[23]=x("div",{class:"indicator-head"},[x("span",{class:"indicator-tag"},"BRI"),x("h3",null,"")],-1)),S[24]||(S[24]=x("ul",null,[x("li",null,""),x("li",null,"")],-1)),x("div",Re,[x("img",{src:o.value?"/mpi-algorithm/bri_depth_curve_bw.svg":"/mpi-algorithm/bri_depth_curve.svg",alt:"BRI"},null,8,Oe),S[19]||(S[19]=x("span",null,"3 | ",-1))]),x("div",Be,[x("div",Te,[S[20]||(S[20]=x("span",{class:"control-label"},"",-1)),x("span",{class:wt(["control-value",z.value])},ut(y.value)+"m ("+ut(N.value)+")",3)]),xt(x("input",{type:"range",min:"0",max:"1200",step:"10","onUpdate:modelValue":S[6]||(S[6]=G=>y.value=G),class:"depth-slider"},null,512),[[jt,y.value,void 0,{number:!0}]]),S[21]||(S[21]=x("div",{class:"depth-labels"},[x("span",null,"0m"),x("span",null,"400m"),x("span",null,"800m"),x("span",null,"1200m")],-1)),x("div",Fe,[x("div",De,[x("div",Pe,[x("div",{class:"bri-bar-fill",style:kt({width:I.value+"%",background:F.value})},null,4)]),x("span",Me,"BRI = "+ut(I.value.toFixed(1)),1)])])]),x("div",Le,[S[22]||(S[22]=x("div",{class:"formula-title"},"",-1)),x("div",{class:"formula-body formula-katex",innerHTML:b.bri.main},null,8,Ne),x("div",{class:"formula-body formula-katex",innerHTML:b.bri.depth},null,8,Ue),x("div",{class:"formula-body formula-katex",innerHTML:b.bri.hard},null,8,je),x("div",{class:"formula-body formula-katex",innerHTML:b.bri.thick},null,8,Ze)]),S[25]||(S[25]=x("div",{class:"indicator-visual"},[x("div",{class:"visual-line"},[x("span",null,"   "),x("div",{class:"line-track"})])],-1))]),x("div",We,[S[31]||(S[31]=x("div",{class:"indicator-head"},[x("span",{class:"indicator-tag"},"ASI"),x("h3",null,"")],-1)),S[32]||(S[32]=x("ul",null,[x("li",null,""),x("li",null,"")],-1)),x("div",He,[x("img",{src:o.value?"/mpi-algorithm/asi_stress_profile_bw.svg":"/mpi-algorithm/asi_stress_profile.svg",alt:"ASI"},null,8,$e),S[26]||(S[26]=x("span",null,"4 | ",-1))]),x("div",Ge,[S[27]||(S[27]=x("div",{class:"formula-title"},"",-1)),x("div",{class:"formula-body formula-katex",innerHTML:b.asi.main},null,8,Ve),x("div",{class:"formula-body formula-katex",innerHTML:b.asi.stiff},null,8,Ke),x("div",{class:"formula-body formula-katex",innerHTML:b.asi.fric},null,8,Xe)]),x("div",Ye,[S[29]||(S[29]=x("div",{class:"asi-label"},"",-1)),x("div",qe,[(pt(!0),ht(St,null,zt(j.value,(G,q)=>(pt(),ht("div",{key:q,class:"stress-bar",style:kt({height:G.height+"%",background:G.color,animationDelay:G.delay+"s"})},null,4))),128))]),S[30]||(S[30]=x("div",{class:"stress-labels"},[x("span",null,""),x("span",null,""),x("span",null,"")],-1)),x("div",{class:"peak-indicator",style:kt({left:B.value+"%"})},[...S[28]||(S[28]=[x("div",{class:"peak-arrow"},"",-1),x("div",{class:"peak-label"},"",-1)])],4)])])])]),x("section",Je,[S[36]||(S[36]=x("div",{class:"section-header"},[x("h2",null,""),x("p",null," MPI ")],-1)),x("div",Qe,[x("div",tr,[(pt(),ht(St,null,zt($,G=>x("div",{class:"weight-item",key:G.key},[x("div",er,[x("span",null,ut(G.label),1),x("span",rr,ut((p.value[G.key]*100).toFixed(1))+"%",1)]),xt(x("input",{type:"range",min:"0",max:"1",step:"0.01","onUpdate:modelValue":q=>f[G.key]=q},null,8,ir),[[jt,f[G.key],void 0,{number:!0}]]),x("div",nr,""+ut(G.default),1)])),64))]),x("div",sr,[x("div",ar,[x("div",{class:"stack-segment rsi",style:kt({width:p.value.rsi*100+"%"})},null,4),x("div",{class:"stack-segment bri",style:kt({width:p.value.bri*100+"%"})},null,4),x("div",{class:"stack-segment asi",style:kt({width:p.value.asi*100+"%"})},null,4)]),S[35]||(S[35]=Bt('<div class="stack-legend" data-v-45fda31c><span data-v-45fda31c><i class="dot rsi" data-v-45fda31c></i>RSI</span><span data-v-45fda31c><i class="dot bri" data-v-45fda31c></i>BRI</span><span data-v-45fda31c><i class="dot asi" data-v-45fda31c></i>ASI</span></div><div class="weight-note" data-v-45fda31c>  </div>',2)),x("div",or,[S[34]||(S[34]=x("div",{class:"formula-title"},"MPI",-1)),x("div",{class:"formula-body formula-katex",innerHTML:c(P.mpi)},null,8,lr)])])])]),S[44]||(S[44]=Bt('<section class="card risk-card" data-v-45fda31c><div class="section-header" data-v-45fda31c><h2 data-v-45fda31c></h2><p data-v-45fda31c>MPI </p></div><div class="risk-grid" data-v-45fda31c><div class="risk-level" data-v-45fda31c><span class="level high" data-v-45fda31c></span><p data-v-45fda31c>MPI &lt; 50</p></div><div class="risk-level" data-v-45fda31c><span class="level medium" data-v-45fda31c></span><p data-v-45fda31c>50  MPI &lt; 70</p></div><div class="risk-level" data-v-45fda31c><span class="level low" data-v-45fda31c></span><p data-v-45fda31c>MPI  70</p></div></div></section>',1)),x("section",ur,[S[40]||(S[40]=x("div",{class:"section-header"},[x("h2",null,""),x("p",null,"")],-1)),x("div",dr,[x("div",cr,[x("div",hr,[(pt(),ht(St,null,zt(T,G=>x("button",{key:G.id,class:wt(["sample-btn",{active:e.value===G.id}]),onClick:q=>e.value=G.id},ut(G.name),11,fr)),64))]),S[37]||(S[37]=x("div",{class:"table-row header"},[x("span",null,""),x("span",null,"")],-1)),(pt(!0),ht(St,null,zt(A.value,G=>(pt(),ht("div",{class:"table-row",key:G.label},[x("span",null,ut(G.label),1),x("span",null,ut(G.value),1)]))),128))]),x("div",pr,[S[38]||(S[38]=x("div",{class:"result-title"}," MPI",-1)),x("div",mr,ut(J.value.mpi.toFixed(2)),1),x("div",{class:wt(["result-level",R.value.class])},ut(R.value.label),3),x("div",_r,[x("span",null,"RSI: "+ut(J.value.breakdown.rsi.toFixed(2)),1),x("span",null,"BRI: "+ut(J.value.breakdown.bri.toFixed(2)),1),x("span",null,"ASI: "+ut(J.value.breakdown.asi.toFixed(2)),1)]),S[39]||(S[39]=x("div",{class:"result-desc"}," MPI ",-1))])])]),x("section",vr,[S[41]||(S[41]=x("div",{class:"section-header"},[x("h2",null,""),x("p",null," MPI ")],-1)),x("div",gr,[(pt(),ht(St,null,zt(Q,G=>x("div",{class:"output-step",key:G.title},[x("h3",null,ut(G.title),1),x("p",null,ut(G.desc),1)])),64))]),S[42]||(S[42]=x("div",{class:"output-note"},"  ODI  SVG + PNG  ",-1))])]))}},xr=Vt(br,[["__scopeId","data-v-45fda31c"]]);export{xr as default};
