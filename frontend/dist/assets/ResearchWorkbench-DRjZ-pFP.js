var Nt=Object.defineProperty,Et=Object.defineProperties;var Ct=Object.getOwnPropertyDescriptors;var We=Object.getOwnPropertySymbols;var Vt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable;var qe=(X,v,E)=>v in X?Nt(X,v,{enumerable:!0,configurable:!0,writable:!0,value:E}):X[v]=E,xe=(X,v)=>{for(var E in v||(v={}))Vt.call(v,E)&&qe(X,E,v[E]);if(We)for(var E of We(v))wt.call(v,E)&&qe(X,E,v[E]);return X},ge=(X,v)=>Et(X,Ct(v));var O=(X,v,E)=>new Promise((Ne,w)=>{var ve=f=>{try{h(E.next(f))}catch(c){w(c)}},p=f=>{try{h(E.throw(f))}catch(c){w(c)}},h=f=>f.done?Ne(f.value):Promise.resolve(f.value).then(ve,p);h((E=E.apply(X,v)).next())});import{_ as Mt,a as jt,b as Rt}from"./index-C6WNepMi.js";import{bf as Ut,b8 as r,b7 as e,bb as o,ba as ke,br as y,bs as S,bo as le,bi as L,bv as Se,bc as U,b9 as B,b as z,c as A,r as $e,b5 as d}from"./vendor-CA5Q5CdR.js";import{u as Bt,a as Dt}from"./vue-router-D9BXaJFq.js";import{w as Ft,x as It,y as Ot,z as At,A as Tt,B as Jt,C as Qe,D as Lt,E as Ke}from"./api-CfsGh-st.js";import"./network-T6nY3V_4.js";const zt={class:"research-page page"},Ht={class:"hero card"},Pt={class:"hero-status"},Xt={class:"status-pill info"},Gt={class:"grid grid-2"},Zt={class:"card panel"},Wt={class:"form-grid"},qt={class:"full"},Qt={class:"actions"},Kt=["disabled"],Yt={class:"card panel"},el={class:"lookup-row"},tl=["disabled"],ll={key:0,class:"manifest-meta"},sl={class:"meta-item"},al={class:"meta-item"},nl={class:"meta-item"},il={class:"meta-item"},ol={class:"form-grid"},ul={class:"actions"},rl=["disabled"],dl={key:1,class:"split-summary"},pl={class:"summary-grid"},cl={key:0},ml={key:1},vl={class:"grid grid-2"},_l={class:"card panel"},bl={class:"form-grid"},fl={class:"actions"},hl=["disabled"],yl={class:"card panel"},xl={class:"lookup-row"},gl=["value"],kl=["disabled"],Sl={key:0,class:"template-preview"},$l={class:"table"},Nl={class:"actions"},El=["disabled"],Cl={key:1,class:"suite-summary"},Vl={class:"meta-item"},wl={class:"meta-item"},Ml={class:"card panel"},jl={class:"lookup-row"},Rl=["disabled"],Ul=["disabled"],Bl=["disabled"],Dl={key:0,class:"result-grid"},Fl={class:"result-card"},Il={class:"metric-grid"},Ol={class:"result-card"},Al={class:"table compact"},Tl={key:1,class:"result-grid"},Jl={class:"result-card"},Ll={class:"meta-row"},zl={class:"table compact"},Hl={class:"result-card"},Pl={class:"trace-row"},Xl={class:"trace-row"},Gl={class:"trace-row"},Zl={key:2,class:"result-card"},Wl={class:"table"},ql=["disabled","onClick"],Ql={class:"card panel"},Kl={class:"compare-label"},Yl={class:"actions actions-split"},es=["disabled"],ts=["disabled"],ls=["disabled"],ss={key:0,class:"viz-controls"},as=["value"],ns={key:1,class:"result-grid"},is={class:"result-card"},os=["viewBox"],us=["x","y","width","height"],rs=["x1","x2","y1","y2"],ds=["x","y"],ps=["x1","x2","y1","y2"],cs=["cx","cy","fill"],ms=["x","y"],vs={key:0,class:"result-card"},_s=["viewBox"],bs=["x","y","width","height"],fs=["x","y","width","height"],hs=["x","y"],ys=["x","y"],xs={key:2,class:"result-card"},gs={class:"table"},ks={key:3,class:"result-card"},Ss={class:"table compact"},$s={key:4,class:"result-card"},Ns={class:"table compact"},Es={__name:"ResearchWorkbench",setup(X){const v=jt(),E=Bt(),Ne=Dt(),w=["auc","pr_auc","f1","brier","mae","rmse","paired_significance_p"],ve=new Set(["auc","pr_auc","f1"]),p=$e({register:!1,loadDataset:!1,split:!1,runExperiment:!1,loadTemplates:!1,runSuite:!1,loadResult:!1,loadArtifacts:!1,downloadArtifact:!1,compare:!1,exportEvidence:!1}),h=$e({dataset_id:"",description:"",label_column:"label",positive_values:"1",event_definition:"roof_pressure_event",time_window_hours:24,threshold:""}),f=$e({strategy:"time_borehole_block",train_ratio:.7,val_ratio:.15,test_ratio:.15,seed:42,time_column:"",borehole_column:""}),c=$e({dataset_id:"",dataset_version:"",split_id:"",experiment_name:"rsi_phasefield_v1",model_type:"rsi_phase_field",target_label_column:"label",metrics:"auc,pr_auc,brier,ece,f1,mae,rmse",seed:42}),M=z(null),g=z(null),je=z(null),re=z(null),Ee=z({}),se=z(""),_e=z(null),q=z([]),ae=z(""),T=z(""),be=z(""),Ce=z(""),C=z([]),oe=z("auc");let pe=null;const Ve=A(()=>{var l;return ae.value||((l=M.value)==null?void 0:l.dataset_id)||""}),Ye=A(()=>!!c.dataset_id&&!!c.dataset_version&&!!c.experiment_name),et=A(()=>!!c.dataset_id&&!!c.dataset_version&&!!c.split_id),k=A(()=>_e.value||je.value),tt=A(()=>{var l;return Object.entries(((l=k.value)==null?void 0:l.metrics)||{})}),lt=A(()=>{var l;return Object.entries(((l=k.value)==null?void 0:l.ci95)||{})}),we=A(()=>Object.keys(Ee.value||{})),Re=A(()=>{var l;return((l=Ee.value)==null?void 0:l[se.value])||[]}),fe=A(()=>{var t,i;const l=(i=(t=g.value)==null?void 0:t.leakage_audit)==null?void 0:i.overlap;return l?Number(l.boreholes_train_val||0)>0||Number(l.boreholes_train_test||0)>0||Number(l.boreholes_val_test||0)>0:!1}),st=A(()=>{const l=C.value||[],t={};for(const i of w){const a=l.map(n=>{var m;return Number((m=n==null?void 0:n.metrics)==null?void 0:m[i])}).filter(n=>Number.isFinite(n));a.length&&(t[i]=ve.has(i)?Math.max(...a):Math.min(...a))}return t}),ue=A(()=>{var t,i;const l=new Map;for(const a of C.value||[]){const n=String(((t=a==null?void 0:a.spec)==null?void 0:t.model_type)||"unknown");l.has(n)||l.set(n,{model_type:n,sample_count:0,values:{},metrics:{}});const m=l.get(n);m.sample_count+=1;for(const u of w){const _=Number((i=a==null?void 0:a.metrics)==null?void 0:i[u]);Number.isFinite(_)&&(m.values[u]||(m.values[u]=[]),m.values[u].push(_))}}for(const a of l.values())for(const n of w){const m=a.values[n]||[];m.length&&(a.metrics[n]=m.reduce((u,_)=>u+_,0)/m.length)}return Array.from(l.values()).sort((a,n)=>a.model_type.localeCompare(n.model_type))}),de=A(()=>{var i,a,n,m;const l=C.value||[],t=[];for(const u of w){let _=null;for(const x of l){const N=Number((i=x==null?void 0:x.metrics)==null?void 0:i[u]);if(!Number.isFinite(N))continue;if(!_){_=x;continue}const F=Number((a=_==null?void 0:_.metrics)==null?void 0:a[u]);(ve.has(u)?N>F:N<F)&&(_=x)}_&&t.push({metric:u,value:Number((n=_==null?void 0:_.metrics)==null?void 0:n[u]),exp_id:(_==null?void 0:_.exp_id)||"",model_type:((m=_==null?void 0:_.spec)==null?void 0:m.model_type)||"unknown"})}return t}),at=A(()=>{const l={};for(const t of de.value)l[t.metric]=t.exp_id;return l}),$=A(()=>{const l=oe.value,t=(C.value||[]).map(b=>{var ne,ie,s;const V=Number((ne=b==null?void 0:b.metrics)==null?void 0:ne[l]);if(!Number.isFinite(V))return null;const G=(ie=b==null?void 0:b.ci95)==null?void 0:ie[l],ee=Number(G==null?void 0:G[0]),te=Number(G==null?void 0:G[1]);return{exp_id:b.exp_id,shortExpId:String(b.exp_id||"").slice(-8),value:V,ciLow:Number.isFinite(ee)?ee:V,ciHigh:Number.isFinite(te)?te:V,hasCi:Number.isFinite(ee)&&Number.isFinite(te),isChampion:((s=at.value)==null?void 0:s[l])===b.exp_id}}).filter(Boolean);if(!t.length)return null;const i=900,a={top:20,right:34,bottom:34,left:110},n=28,m=Math.max(160,t.length*n),u=a.top+m+a.bottom,_=i-a.left-a.right,x=Math.min(...t.map(b=>Math.min(b.ciLow,b.value))),N=Math.max(...t.map(b=>Math.max(b.ciHigh,b.value))),I=Math.max(N-x,1e-9)*.12,J=x-I,R=N+I,P=Math.max(R-J,1e-9),Q=b=>a.left+(b-J)/P*_,K=Array.from({length:5},(b,V)=>J+V/4*P),Y=t.map((b,V)=>ge(xe({},b),{y:a.top+14+V*n}));return{width:i,height:u,margin:a,plotWidth:_,plotHeight:m,rows:Y,ticks:K,scaleX:Q}}),D=A(()=>{const l=oe.value,t=(ue.value||[]).map(b=>{var V;return{model_type:b.model_type,value:Number((V=b==null?void 0:b.metrics)==null?void 0:V[l])}}).filter(b=>Number.isFinite(b.value));if(!t.length)return null;const i=900,a={top:20,right:60,bottom:20,left:150},n=34,m=20,u=Math.max(140,t.length*n),_=a.top+u+a.bottom,x=i-a.left-a.right,N=Math.min(...t.map(b=>b.value)),F=Math.max(...t.map(b=>b.value)),J=Math.max(F-N,1e-9)*.1,R=Math.min(0,N-J),P=F+J,Q=Math.max(P-R,1e-9),K=b=>a.left+(b-R)/Q*x,Y=t.map((b,V)=>ge(xe({},b),{y:a.top+16+V*n,height:m}));return{width:i,height:_,margin:a,plotWidth:x,plotHeight:u,rows:Y,scaleX:K}}),Ue=l=>String(l||"").split(",").map(t=>t.trim()).filter(Boolean),nt=l=>Array.from(new Set(String(l||"").split(/[\s,]+/g).map(t=>t.trim()).filter(Boolean))),it=l=>Ue(l).map(t=>{if(/^(true|false)$/i.test(t))return t.toLowerCase()==="true";const i=Number(t);return Number.isFinite(i)?i:t}),ot=l=>{const t=String(l!=null?l:"").trim();if(!t)return null;const i=Number(t);return Number.isFinite(i)?i:null},Z=(l,t)=>{var i,a;return((a=(i=l==null?void 0:l.response)==null?void 0:i.data)==null?void 0:a.detail)||(l==null?void 0:l.message)||t},H=(l,t=4)=>{const i=Number(l);return Number.isFinite(i)?i.toFixed(t):"-"},ut=l=>{const t=Number(l);return!Number.isFinite(t)||t<0?"-":t<1024?`${t} B`:t<1024*1024?`${(t/1024).toFixed(1)} KB`:`${(t/(1024*1024)).toFixed(2)} MB`},he=(l,t)=>{const i=URL.createObjectURL(l),a=document.createElement("a");a.href=i,a.download=t,a.click(),URL.revokeObjectURL(i)},Me=()=>new Date().toISOString().replace(/[:.]/g,"-"),ye=l=>{var a;const t=String(l||"").trim();!t||String(((a=E.query)==null?void 0:a.exp_id)||"").trim()===t||Ne.replace({path:"/research-workbench",query:ge(xe({},E.query),{exp_id:t})}).catch(()=>{})},rt=()=>O(this,null,function*(){var t;const l=String(((t=E.query)==null?void 0:t.exp_id)||"").trim();l&&(T.value=l,yield Ie(),yield Oe())}),dt=()=>O(this,null,function*(){if(pe)return pe;const l=yield Rt(()=>import("./jszip-CsMIhXuR.js").then(t=>t.j),[]);if(pe=(l==null?void 0:l.default)||(l==null?void 0:l.JSZip)||null,!pe)throw new Error("JSZip 加载失败");return pe}),pt=(l,t)=>{const i=String(l||""),a=i.match(/filename\*=UTF-8''([^;]+)/i);if(a!=null&&a[1])try{return decodeURIComponent(a[1])}catch(m){return a[1]}const n=i.match(/filename="?([^";]+)"?/i);return(n==null?void 0:n[1])||t},ct=(l,t)=>{var n;const i=Number(t);if(!Number.isFinite(i))return!1;const a=Number((n=st.value)==null?void 0:n[l]);return Number.isFinite(a)?Math.abs(a-i)<=1e-12:!1},Be=l=>{var a;if(!(l!=null&&l.length))return"";const i=[["exp_id","model_type","dataset_id","dataset_version","split_id",...w,"created_at"].join(",")];for(const n of l){const m=((a=n==null?void 0:n.spec)==null?void 0:a.model_type)||"",u=[(n==null?void 0:n.exp_id)||"",m,(n==null?void 0:n.dataset_id)||"",(n==null?void 0:n.dataset_version)||"",(n==null?void 0:n.split_id)||"",...w.map(_=>{var x,N;return(N=(x=n==null?void 0:n.metrics)==null?void 0:x[_])!=null?N:""}),(n==null?void 0:n.created_at)||""];i.push(u.map(_=>`"${String(_).replace(/"/g,'""')}"`).join(","))}return`${i.join(`
`)}
`},mt=l=>{if(!(l!=null&&l.length))return"";const i=[["model_type","sample_count",...w].join(",")];for(const a of l){const n=[a.model_type,a.sample_count,...w.map(m=>{var u,_;return(_=(u=a==null?void 0:a.metrics)==null?void 0:u[m])!=null?_:""})];i.push(n.map(m=>`"${String(m).replace(/"/g,'""')}"`).join(","))}return`${i.join(`
`)}
`},vt=()=>{var i,a,n,m,u,_,x,N,F,I,J,R,P,Q,K,Y,b,V,G,ee,te,ne,ie,s,j,W,ce,me,Ae,Te,Je,Le,ze,He,Pe,Xe,Ge,Ze;const l=oe.value;return["# Methods Summary","","## Data Governance",`- Dataset ID: ${((i=M.value)==null?void 0:i.dataset_id)||"-"}`,`- Dataset Version: ${((a=M.value)==null?void 0:a.dataset_version)||"-"}`,`- Dataset Rows: ${(m=(n=M.value)==null?void 0:n.row_count)!=null?m:"-"}`,`- Label Column: ${((_=(u=M.value)==null?void 0:u.label_schema)==null?void 0:_.label_column)||"-"}`,`- Positive Values: ${(((N=(x=M.value)==null?void 0:x.label_schema)==null?void 0:N.positive_values)||[]).join(", ")||"-"}`,"","## Split Strategy",`- Split ID: ${((F=g.value)==null?void 0:F.split_id)||((I=k.value)==null?void 0:I.split_id)||"-"}`,`- Strategy: ${((J=g.value)==null?void 0:J.strategy)||"-"}`,`- Ratios: train=${(Q=(P=(R=g.value)==null?void 0:R.ratios)==null?void 0:P.train)!=null?Q:"-"}, val=${(b=(Y=(K=g.value)==null?void 0:K.ratios)==null?void 0:Y.val)!=null?b:"-"}, test=${(ee=(G=(V=g.value)==null?void 0:V.ratios)==null?void 0:G.test)!=null?ee:"-"}`,`- Leakage Overlap: train-val=${(s=(ie=(ne=(te=g.value)==null?void 0:te.leakage_audit)==null?void 0:ne.overlap)==null?void 0:ie.boreholes_train_val)!=null?s:"-"}, train-test=${(me=(ce=(W=(j=g.value)==null?void 0:j.leakage_audit)==null?void 0:W.overlap)==null?void 0:ce.boreholes_train_test)!=null?me:"-"}, val-test=${(Le=(Je=(Te=(Ae=g.value)==null?void 0:Ae.leakage_audit)==null?void 0:Te.overlap)==null?void 0:Je.boreholes_val_test)!=null?Le:"-"}`,"","## Experiment Protocol",`- Primary Experiment ID: ${((ze=k.value)==null?void 0:ze.exp_id)||"-"}`,`- Model Type: ${((Pe=(He=k.value)==null?void 0:He.spec)==null?void 0:Pe.model_type)||"-"}`,`- Seed: ${(Ze=(Ge=(Xe=k.value)==null?void 0:Xe.spec)==null?void 0:Ge.seed)!=null?Ze:"-"}`,`- Metrics: ${w.join(", ")}`,"- Statistics: bootstrap 95% CI and paired significance (as implemented by backend experiment runner).","","## Comparison Snapshot",`- Compared Experiments: ${C.value.length}`,`- Visualized Metric: ${l}`,`- Model Groups: ${ue.value.length}`,`- Champion Count: ${de.value.length}`,"","## Notes","- This material is generated from current reproducibility workspace state.","- Use this file as supplementary methods draft for manuscript preparation."].join(`
`)},De=l=>{var t;l&&(ae.value=l.dataset_id||ae.value,c.dataset_id=l.dataset_id||c.dataset_id,c.dataset_version=l.dataset_version||c.dataset_version,(t=l.label_schema)!=null&&t.label_column&&!c.target_label_column&&(c.target_label_column=l.label_schema.label_column))},_t=()=>O(this,null,function*(){p.register=!0;try{const l={dataset_id:h.dataset_id,description:h.description,label_schema:{label_column:h.label_column,positive_values:it(h.positive_values),event_definition:h.event_definition,time_window_hours:Number(h.time_window_hours||24),threshold:ot(h.threshold)}},{data:t}=yield It(l);M.value=t,g.value=null,De(t),v.success(`注册成功：${t.dataset_id}`)}catch(l){v.error(Z(l,"数据集注册失败"))}finally{p.register=!1}}),bt=()=>O(this,null,function*(){if(ae.value){p.loadDataset=!0;try{const{data:l}=yield Ot(ae.value);M.value=l,De(l),v.success(`已加载 manifest：${l.dataset_id}`)}catch(l){v.error(Z(l,"数据集查询失败"))}finally{p.loadDataset=!1}}}),ft=()=>O(this,null,function*(){if(Ve.value){p.split=!0;try{const l={strategy:f.strategy,train_ratio:Number(f.train_ratio),val_ratio:Number(f.val_ratio),test_ratio:Number(f.test_ratio),seed:Number(f.seed),time_column:f.time_column||null,borehole_column:f.borehole_column||null},{data:t}=yield At(Ve.value,l);g.value=t,c.split_id=t.split_id||c.split_id,v[fe.value?"warning":"success"](fe.value?"切分完成，但检测到钻孔交叉":`切分成功：${t.split_id}`)}catch(l){v.error(Z(l,"数据切分失败"))}finally{p.split=!1}}}),ht=()=>O(this,null,function*(){p.runExperiment=!0;try{const l={dataset_id:c.dataset_id,dataset_version:c.dataset_version,split_id:c.split_id||null,experiment_name:c.experiment_name,model_type:c.model_type,target_label_column:c.target_label_column||null,metrics:Ue(c.metrics),seed:Number(c.seed)},{data:t}=yield Tt(l);je.value=t,_e.value=t,T.value=t.exp_id,ye(t.exp_id),q.value=[],v.success(`实验完成：${t.exp_id}`)}catch(l){v.error(Z(l,"实验运行失败"))}finally{p.runExperiment=!1}}),Fe=()=>O(this,null,function*(){p.loadTemplates=!0;try{const{data:l}=yield Ft();Ee.value=(l==null?void 0:l.templates)||{},!se.value&&we.value.length>0&&(se.value=we.value[0])}catch(l){v.error(Z(l,"模板查询失败"))}finally{p.loadTemplates=!1}}),yt=()=>O(this,null,function*(){var l,t;if(se.value){p.runSuite=!0;try{const i={template_name:se.value,dataset_id:c.dataset_id,dataset_version:c.dataset_version,split_id:c.split_id,seed:Number(c.seed)},{data:a}=yield Jt(i);re.value=a;const n=(t=(l=a==null?void 0:a.runs)==null?void 0:l[0])==null?void 0:t.exp_id;n&&(T.value=n,ye(n)),v.success(`模板实验完成：${a.suite_id}`)}catch(i){v.error(Z(i,"模板实验运行失败"))}finally{p.runSuite=!1}}}),Ie=()=>O(this,null,function*(){if(T.value){p.loadResult=!0;try{const{data:l}=yield Qe(T.value);_e.value=l,ye(l.exp_id),v.success(`已加载结果：${l.exp_id}`)}catch(l){v.error(Z(l,"实验结果查询失败"))}finally{p.loadResult=!1}}}),Oe=()=>O(this,null,function*(){if(T.value){p.loadArtifacts=!0;try{const{data:l}=yield Lt(T.value);q.value=(l==null?void 0:l.artifacts)||[],v.success(`已加载产物：${q.value.length} 个`)}catch(l){v.error(Z(l,"实验产物查询失败"))}finally{p.loadArtifacts=!1}}}),xt=l=>O(this,null,function*(){var a,n;const t=T.value||((a=k.value)==null?void 0:a.exp_id),i=l==null?void 0:l.name;if(!(!t||!i)){p.downloadArtifact=!0,be.value=i;try{const m=yield Ke(t,i),u=pt((n=m==null?void 0:m.headers)==null?void 0:n["content-disposition"],i);he(m.data,u),v.success(`已下载：${u}`)}catch(m){v.error(Z(m,"产物下载失败"))}finally{p.downloadArtifact=!1,be.value=""}}}),gt=()=>O(this,null,function*(){const l=nt(Ce.value);if(!l.length){v.warning("请先输入至少一个 exp_id");return}p.compare=!0;try{const t=yield Promise.allSettled(l.map(n=>Qe(n))),i=[],a=[];t.forEach((n,m)=>{var u;n.status==="fulfilled"&&((u=n.value)!=null&&u.data)?i.push(n.value.data):a.push(l[m])}),C.value=i,i.length>0&&(_e.value=i[0],T.value=i[0].exp_id,ye(i[0].exp_id)),a.length>0&&v.warning(`部分实验加载失败：${a.join(", ")}`),i.length>0?v.success(`已加载 ${i.length} 个实验用于对比`):v.error("没有可用实验结果")}catch(t){v.error(Z(t,"实验对比加载失败"))}finally{p.compare=!1}}),kt=()=>{if(!C.value.length)return;const l=new Blob([Be(C.value)],{type:"text/csv;charset=utf-8;"});he(l,`research_comparison_${Me()}.csv`),v.success("对比 CSV 已导出")},St=()=>{if(!C.value.length)return;const l={exported_at:new Date().toISOString(),comparison_metric_order:w,rows:C.value},t=new Blob([JSON.stringify(l,null,2)],{type:"application/json;charset=utf-8"});he(t,`research_comparison_${Me()}.json`),v.success("对比 JSON 已导出")},$t=()=>O(this,null,function*(){var l,t,i,a,n;p.exportEvidence=!0;try{const m=yield dt(),u=new m,_=Me(),x=T.value||((l=k.value)==null?void 0:l.exp_id)||"",N=["# Research Evidence Bundle","",`exported_at: ${new Date().toISOString()}`,`dataset_id: ${((t=M.value)==null?void 0:t.dataset_id)||"-"}`,`dataset_version: ${((i=M.value)==null?void 0:i.dataset_version)||"-"}`,`split_id: ${((a=g.value)==null?void 0:a.split_id)||((n=k.value)==null?void 0:n.split_id)||"-"}`,`primary_exp_id: ${x||"-"}`,"","包含内容:","- manifests/dataset_manifest.json","- manifests/split_manifest.json","- results/latest_result.json","- results/suite_result.json","- methods/methods.md","- comparison/*.json|csv","- artifacts/index.json (和可下载产物)"];u.file("README.md",N.join(`
`)),u.file("methods/methods.md",vt()),M.value&&u.file("manifests/dataset_manifest.json",JSON.stringify(M.value,null,2)),g.value&&u.file("manifests/split_manifest.json",JSON.stringify(g.value,null,2)),k.value&&u.file("results/latest_result.json",JSON.stringify(k.value,null,2)),re.value&&u.file("results/suite_result.json",JSON.stringify(re.value,null,2)),C.value.length&&(u.file("comparison/comparison_rows.json",JSON.stringify(C.value,null,2)),u.file("comparison/comparison_rows.csv",Be(C.value))),ue.value.length&&(u.file("comparison/model_summary.json",JSON.stringify(ue.value,null,2)),u.file("comparison/model_summary.csv",mt(ue.value))),de.value.length&&u.file("comparison/champions.json",JSON.stringify(de.value,null,2)),$.value&&u.file("comparison/point_chart_data.json",JSON.stringify($.value.rows,null,2)),D.value&&u.file("comparison/model_bar_chart_data.json",JSON.stringify(D.value.rows,null,2)),u.file("artifacts/index.json",JSON.stringify(q.value||[],null,2));const F=[],I=[];if(x&&q.value.length)for(const R of q.value)try{const P=yield Ke(x,R.name);u.file(`artifacts/files/${R.name}`,P.data),F.push(R.name)}catch(P){I.push(R.name)}u.file("artifacts/download_report.json",JSON.stringify({exp_id:x,requested:q.value.map(R=>R.name),downloaded:F,failed:I},null,2));const J=yield u.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:6}});he(J,`research_evidence_bundle_${_}.zip`),I.length?v.warning(`证据包已导出，${I.length} 个产物未能打包`):v.success("证据包 ZIP 已导出")}catch(m){v.error(Z(m,"证据包导出失败"))}finally{p.exportEvidence=!1}});return Ut(()=>O(this,null,function*(){yield Fe(),yield rt()})),(l,t)=>{var i,a,n,m,u,_,x,N,F,I,J,R,P,Q,K,Y,b,V,G,ee,te,ne,ie;return d(),r("div",zt,[e("header",Ht,[t[27]||(t[27]=e("div",null,[e("h1",null,"科研工作台"),e("p",null,"面向论文复现：数据版本化、泄漏审计、实验运行、结果归档一体化。")],-1)),e("div",Pt,[e("span",Xt,"Dataset "+o(((i=M.value)==null?void 0:i.dataset_id)||"-"),1),e("span",{class:ke(["status-pill",g.value?"ok":"idle"])},"Split "+o(((a=g.value)==null?void 0:a.split_id)||"-"),3),e("span",{class:ke(["status-pill",k.value?"ok":"idle"])},"Experiment "+o(((n=k.value)==null?void 0:n.exp_id)||"-"),3)])]),e("section",Gt,[e("article",Zt,[t[35]||(t[35]=e("div",{class:"panel-head"},[e("h2",null,"1) 数据集注册"),e("span",{class:"tip"},"固定标签口径与版本哈希")],-1)),e("div",Wt,[e("label",null,[t[28]||(t[28]=e("span",null,"dataset_id",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>h.dataset_id=s),class:"input",placeholder:"例如 research_demo"},null,512),[[S,h.dataset_id,void 0,{trim:!0}]])]),e("label",null,[t[29]||(t[29]=e("span",null,"label_column",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>h.label_column=s),class:"input",placeholder:"例如 label"},null,512),[[S,h.label_column,void 0,{trim:!0}]])]),e("label",null,[t[30]||(t[30]=e("span",null,"positive_values (逗号分隔)",-1)),y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>h.positive_values=s),class:"input",placeholder:"例如 1,true,high"},null,512),[[S,h.positive_values,void 0,{trim:!0}]])]),e("label",null,[t[31]||(t[31]=e("span",null,"event_definition",-1)),y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>h.event_definition=s),class:"input"},null,512),[[S,h.event_definition,void 0,{trim:!0}]])]),e("label",null,[t[32]||(t[32]=e("span",null,"time_window_hours",-1)),y(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>h.time_window_hours=s),type:"number",min:"1",class:"input"},null,512),[[S,h.time_window_hours,void 0,{number:!0}]])]),e("label",null,[t[33]||(t[33]=e("span",null,"threshold (可选)",-1)),y(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>h.threshold=s),class:"input",placeholder:"留空表示 null"},null,512),[[S,h.threshold,void 0,{trim:!0}]])]),e("label",qt,[t[34]||(t[34]=e("span",null,"description",-1)),y(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=s=>h.description=s),class:"input textarea",rows:"3",placeholder:"数据来源、标签定义、时间空间对齐说明"},null,512),[[S,h.description,void 0,{trim:!0}]])])]),e("div",Qt,[e("button",{class:"btn",disabled:p.register||!h.dataset_id||!h.label_column,onClick:_t},o(p.register?"注册中...":"注册数据集"),9,Kt)])]),e("article",Yt,[t[52]||(t[52]=e("div",{class:"panel-head"},[e("h2",null,"2) 数据集查询与切分"),e("span",{class:"tip"},"防止时间/钻孔泄漏")],-1)),e("div",el,[y(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>ae.value=s),class:"input",placeholder:"输入 dataset_id 查询 manifest"},null,512),[[S,ae.value,void 0,{trim:!0}]]),e("button",{class:"btn secondary",disabled:p.loadDataset||!ae.value,onClick:bt},o(p.loadDataset?"查询中...":"查询"),9,tl)]),M.value?(d(),r("div",ll,[e("span",sl,[t[36]||(t[36]=le("version: ",-1)),e("b",null,o(M.value.dataset_version),1)]),e("span",al,[t[37]||(t[37]=le("rows: ",-1)),e("b",null,o(M.value.row_count),1)]),e("span",nl,[t[38]||(t[38]=le("cols: ",-1)),e("b",null,o(M.value.column_count),1)]),e("span",il,[t[39]||(t[39]=le("file: ",-1)),e("b",null,o(M.value.dataset_file),1)])])):L("",!0),e("div",ol,[e("label",null,[t[41]||(t[41]=e("span",null,"strategy",-1)),y(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>f.strategy=s)},[...t[40]||(t[40]=[e("option",{value:"time_borehole_block"},"time_borehole_block",-1),e("option",{value:"borehole_block"},"borehole_block",-1),e("option",{value:"time_block"},"time_block",-1),e("option",{value:"random"},"random",-1)])],512),[[Se,f.strategy]])]),e("label",null,[t[42]||(t[42]=e("span",null,"train_ratio",-1)),y(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>f.train_ratio=s),type:"number",step:"0.05",min:"0.05",max:"0.95",class:"input"},null,512),[[S,f.train_ratio,void 0,{number:!0}]])]),e("label",null,[t[43]||(t[43]=e("span",null,"val_ratio",-1)),y(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>f.val_ratio=s),type:"number",step:"0.05",min:"0.05",max:"0.95",class:"input"},null,512),[[S,f.val_ratio,void 0,{number:!0}]])]),e("label",null,[t[44]||(t[44]=e("span",null,"test_ratio",-1)),y(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>f.test_ratio=s),type:"number",step:"0.05",min:"0.05",max:"0.95",class:"input"},null,512),[[S,f.test_ratio,void 0,{number:!0}]])]),e("label",null,[t[45]||(t[45]=e("span",null,"time_column (可选)",-1)),y(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>f.time_column=s),class:"input",placeholder:"例如 event_time"},null,512),[[S,f.time_column,void 0,{trim:!0}]])]),e("label",null,[t[46]||(t[46]=e("span",null,"borehole_column (可选)",-1)),y(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>f.borehole_column=s),class:"input",placeholder:"例如 borehole_name"},null,512),[[S,f.borehole_column,void 0,{trim:!0}]])]),e("label",null,[t[47]||(t[47]=e("span",null,"seed",-1)),y(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>f.seed=s),type:"number",class:"input"},null,512),[[S,f.seed,void 0,{number:!0}]])])]),e("div",ul,[e("button",{class:"btn",disabled:p.split||!Ve.value,onClick:ft},o(p.split?"切分中...":"执行切分"),9,rl)]),g.value?(d(),r("div",dl,[e("div",pl,[e("div",null,[t[48]||(t[48]=e("span",null,"train",-1)),e("strong",null,o((u=(m=g.value.counts)==null?void 0:m.train)!=null?u:0),1)]),e("div",null,[t[49]||(t[49]=e("span",null,"val",-1)),e("strong",null,o((x=(_=g.value.counts)==null?void 0:_.val)!=null?x:0),1)]),e("div",null,[t[50]||(t[50]=e("span",null,"test",-1)),e("strong",null,o((F=(N=g.value.counts)==null?void 0:N.test)!=null?F:0),1)])]),e("div",{class:ke(["leakage",fe.value?"warn":"safe"])},[t[51]||(t[51]=e("span",null,"泄漏审计",-1)),fe.value?(d(),r("b",cl," train-val "+o(((J=(I=g.value.leakage_audit)==null?void 0:I.overlap)==null?void 0:J.boreholes_train_val)||0)+", train-test "+o(((P=(R=g.value.leakage_audit)==null?void 0:R.overlap)==null?void 0:P.boreholes_train_test)||0)+", val-test "+o(((K=(Q=g.value.leakage_audit)==null?void 0:Q.overlap)==null?void 0:K.boreholes_val_test)||0),1)):(d(),r("b",ml,"钻孔无交叉"))],2)])):L("",!0)])]),e("section",vl,[e("article",_l,[t[62]||(t[62]=e("div",{class:"panel-head"},[e("h2",null,"3) 单实验运行"),e("span",{class:"tip"},"输出 metrics + calibration + ci95")],-1)),e("div",bl,[e("label",null,[t[53]||(t[53]=e("span",null,"dataset_id",-1)),y(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>c.dataset_id=s),class:"input"},null,512),[[S,c.dataset_id,void 0,{trim:!0}]])]),e("label",null,[t[54]||(t[54]=e("span",null,"dataset_version",-1)),y(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>c.dataset_version=s),class:"input"},null,512),[[S,c.dataset_version,void 0,{trim:!0}]])]),e("label",null,[t[55]||(t[55]=e("span",null,"split_id",-1)),y(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>c.split_id=s),class:"input"},null,512),[[S,c.split_id,void 0,{trim:!0}]])]),e("label",null,[t[56]||(t[56]=e("span",null,"experiment_name",-1)),y(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>c.experiment_name=s),class:"input"},null,512),[[S,c.experiment_name,void 0,{trim:!0}]])]),e("label",null,[t[58]||(t[58]=e("span",null,"model_type",-1)),y(e("select",{"onUpdate:modelValue":t[19]||(t[19]=s=>c.model_type=s)},[...t[57]||(t[57]=[e("option",{value:"baseline"},"baseline",-1),e("option",{value:"rsi_phase_field"},"rsi_phase_field",-1),e("option",{value:"asi_ust"},"asi_ust",-1),e("option",{value:"custom"},"custom",-1)])],512),[[Se,c.model_type]])]),e("label",null,[t[59]||(t[59]=e("span",null,"target_label_column (可选)",-1)),y(e("input",{"onUpdate:modelValue":t[20]||(t[20]=s=>c.target_label_column=s),class:"input"},null,512),[[S,c.target_label_column,void 0,{trim:!0}]])]),e("label",null,[t[60]||(t[60]=e("span",null,"metrics (逗号分隔)",-1)),y(e("input",{"onUpdate:modelValue":t[21]||(t[21]=s=>c.metrics=s),class:"input"},null,512),[[S,c.metrics,void 0,{trim:!0}]])]),e("label",null,[t[61]||(t[61]=e("span",null,"seed",-1)),y(e("input",{"onUpdate:modelValue":t[22]||(t[22]=s=>c.seed=s),type:"number",class:"input"},null,512),[[S,c.seed,void 0,{number:!0}]])])]),e("div",fl,[e("button",{class:"btn",disabled:p.runExperiment||!Ye.value,onClick:ht},o(p.runExperiment?"运行中...":"运行实验"),9,hl)])]),e("article",yl,[t[66]||(t[66]=e("div",{class:"panel-head"},[e("h2",null,"4) 模板批量实验"),e("span",{class:"tip"},"论文主实验与基线对照")],-1)),e("div",xl,[y(e("select",{"onUpdate:modelValue":t[23]||(t[23]=s=>se.value=s)},[(d(!0),r(U,null,B(we.value,s=>(d(),r("option",{key:s,value:s},o(s),9,gl))),128))],512),[[Se,se.value]]),e("button",{class:"btn secondary",disabled:p.loadTemplates,onClick:Fe},o(p.loadTemplates?"刷新中...":"刷新模板"),9,kl)]),Re.value.length?(d(),r("div",Sl,[e("table",$l,[t[63]||(t[63]=e("thead",null,[e("tr",null,[e("th",null,"experiment_name"),e("th",null,"model_type")])],-1)),e("tbody",null,[(d(!0),r(U,null,B(Re.value,s=>(d(),r("tr",{key:`${s.experiment_name}-${s.model_type}`},[e("td",null,o(s.experiment_name),1),e("td",null,o(s.model_type),1)]))),128))])])])):L("",!0),e("div",Nl,[e("button",{class:"btn",disabled:p.runSuite||!et.value||!se.value,onClick:yt},o(p.runSuite?"运行中...":"运行模板实验"),9,El)]),re.value?(d(),r("div",Cl,[e("div",Vl,[t[64]||(t[64]=le("suite_id: ",-1)),e("b",null,o(re.value.suite_id),1)]),e("div",wl,[t[65]||(t[65]=le("runs: ",-1)),e("b",null,o(((Y=re.value.runs)==null?void 0:Y.length)||0),1)])])):L("",!0)])]),e("section",Ml,[t[81]||(t[81]=e("div",{class:"panel-head"},[e("h2",null,"5) 实验结果与产物查询"),e("span",{class:"tip"},"按 exp_id 回溯证据链")],-1)),e("div",jl,[y(e("input",{"onUpdate:modelValue":t[24]||(t[24]=s=>T.value=s),class:"input",placeholder:"输入 exp_id 查询"},null,512),[[S,T.value,void 0,{trim:!0}]]),e("button",{class:"btn secondary",disabled:p.loadResult||!T.value,onClick:Ie},o(p.loadResult?"查询中...":"查结果"),9,Rl),e("button",{class:"btn secondary",disabled:p.loadArtifacts||!T.value,onClick:Oe},o(p.loadArtifacts?"查询中...":"查产物"),9,Ul),e("button",{class:"btn secondary",disabled:p.exportEvidence||!k.value&&!C.value.length,onClick:$t},o(p.exportEvidence?"打包中...":"导出证据 ZIP"),9,Bl)]),k.value?(d(),r("div",Dl,[e("article",Fl,[t[67]||(t[67]=e("h3",null,"关键指标",-1)),e("div",Il,[(d(!0),r(U,null,B(tt.value,([s,j])=>(d(),r("div",{key:s,class:"metric-item"},[e("span",null,o(s),1),e("b",null,o(H(j,6)),1)]))),128))])]),e("article",Ol,[t[69]||(t[69]=e("h3",null,"95% 置信区间",-1)),e("table",Al,[t[68]||(t[68]=e("thead",null,[e("tr",null,[e("th",null,"metric"),e("th",null,"low"),e("th",null,"high")])],-1)),e("tbody",null,[(d(!0),r(U,null,B(lt.value,([s,j])=>(d(),r("tr",{key:s},[e("td",null,o(s),1),e("td",null,o(H(j==null?void 0:j[0],6)),1),e("td",null,o(H(j==null?void 0:j[1],6)),1)]))),128))])])])])):L("",!0),k.value?(d(),r("div",Tl,[e("article",Jl,[t[74]||(t[74]=e("h3",null,"校准报告",-1)),e("div",Ll,[e("span",null,[t[70]||(t[70]=le("ECE: ",-1)),e("b",null,o(H((b=k.value.calibration)==null?void 0:b.ece,6)),1)]),e("span",null,[t[71]||(t[71]=le("MCE: ",-1)),e("b",null,o(H((V=k.value.calibration)==null?void 0:V.mce,6)),1)]),e("span",null,[t[72]||(t[72]=le("Bins: ",-1)),e("b",null,o((ee=(G=k.value.calibration)==null?void 0:G.bin_count)!=null?ee:0),1)])]),e("table",zl,[t[73]||(t[73]=e("thead",null,[e("tr",null,[e("th",null,"bin"),e("th",null,"count"),e("th",null,"acc"),e("th",null,"conf"),e("th",null,"gap")])],-1)),e("tbody",null,[(d(!0),r(U,null,B((((te=k.value.calibration)==null?void 0:te.bins)||[]).slice(0,10),s=>(d(),r("tr",{key:s.bin},[e("td",null,o(s.bin),1),e("td",null,o(s.count),1),e("td",null,o(H(s.acc,4)),1),e("td",null,o(H(s.conf,4)),1),e("td",null,o(H(s.gap,4)),1)]))),128))])])]),e("article",Hl,[t[78]||(t[78]=e("h3",null,"Traceability",-1)),e("div",Pl,[t[75]||(t[75]=e("span",null,"dataset_manifest",-1)),e("code",null,o(((ne=k.value.traceability)==null?void 0:ne.dataset_manifest)||"-"),1)]),e("div",Xl,[t[76]||(t[76]=e("span",null,"split_manifest",-1)),e("code",null,o(((ie=k.value.traceability)==null?void 0:ie.split_manifest)||"-"),1)]),e("div",Gl,[t[77]||(t[77]=e("span",null,"created_at",-1)),e("code",null,o(k.value.created_at||"-"),1)])])])):L("",!0),q.value.length?(d(),r("article",Zl,[t[80]||(t[80]=e("h3",null,"Artifacts",-1)),e("table",Wl,[t[79]||(t[79]=e("thead",null,[e("tr",null,[e("th",null,"name"),e("th",null,"size"),e("th",null,"path"),e("th",null,"action")])],-1)),e("tbody",null,[(d(!0),r(U,null,B(q.value,s=>(d(),r("tr",{key:s.path},[e("td",null,o(s.name),1),e("td",null,o(ut(s.size_bytes)),1),e("td",null,[e("code",null,o(s.path),1)]),e("td",null,[e("button",{class:"btn secondary btn-inline",disabled:p.downloadArtifact&&be.value===s.name,onClick:j=>xt(s)},o(p.downloadArtifact&&be.value===s.name?"下载中...":"下载"),9,ql)])]))),128))])])])):L("",!0)]),e("section",Ql,[t[91]||(t[91]=e("div",{class:"panel-head"},[e("h2",null,"6) 实验对比看板"),e("span",{class:"tip"},"按多个 exp_id 横向比较，支持 CSV/JSON 导出")],-1)),e("label",Kl,[t[82]||(t[82]=e("span",null,"exp_id 列表（逗号、空格或换行分隔）",-1)),y(e("textarea",{"onUpdate:modelValue":t[25]||(t[25]=s=>Ce.value=s),class:"input textarea",rows:"4",placeholder:"exp_20260208_120000_xxxxxx, exp_20260208_120500_yyyyyy"},null,512),[[S,Ce.value,void 0,{trim:!0}]])]),e("div",Yl,[e("button",{class:"btn",disabled:p.compare,onClick:gt},o(p.compare?"加载中...":"加载对比"),9,es),e("button",{class:"btn secondary",disabled:!C.value.length,onClick:kt}," 导出 CSV ",8,ts),e("button",{class:"btn secondary",disabled:!C.value.length,onClick:St}," 导出 JSON ",8,ls)]),C.value.length?(d(),r("div",ss,[e("label",null,[t[83]||(t[83]=e("span",null,"可视化指标",-1)),y(e("select",{"onUpdate:modelValue":t[26]||(t[26]=s=>oe.value=s)},[(d(),r(U,null,B(w,s=>e("option",{key:`viz-${s}`,value:s},o(s),9,as)),64))],512),[[Se,oe.value]])])])):L("",!0),$.value?(d(),r("div",ns,[e("article",is,[e("h3",null,"实验分布与95%CI（"+o(oe.value)+"）",1),(d(),r("svg",{class:"compare-svg",viewBox:`0 0 ${$.value.width} ${$.value.height}`,preserveAspectRatio:"none"},[e("rect",{x:$.value.margin.left,y:$.value.margin.top,width:$.value.plotWidth,height:$.value.plotHeight,fill:"#f8fafc",stroke:"#e2e8f0"},null,8,us),(d(!0),r(U,null,B($.value.ticks,s=>(d(),r("g",{key:`tick-${s}`},[e("line",{x1:$.value.scaleX(s),x2:$.value.scaleX(s),y1:$.value.margin.top,y2:$.value.margin.top+$.value.plotHeight,stroke:"#cbd5e1","stroke-dasharray":"3 3"},null,8,rs),e("text",{x:$.value.scaleX(s),y:$.value.height-8,"text-anchor":"middle",class:"axis-label"},o(H(s,4)),9,ds)]))),128)),(d(!0),r(U,null,B($.value.rows,s=>(d(),r("g",{key:`pt-${s.exp_id}`},[s.hasCi?(d(),r("line",{key:0,x1:$.value.scaleX(s.ciLow),x2:$.value.scaleX(s.ciHigh),y1:s.y,y2:s.y,stroke:"#64748b","stroke-width":"1.5"},null,8,ps)):L("",!0),e("circle",{cx:$.value.scaleX(s.value),cy:s.y,r:"4.5",fill:s.isChampion?"#0f766e":"#0e7490"},null,8,cs),e("text",{x:$.value.margin.left-6,y:s.y+4,"text-anchor":"end",class:"axis-label left"},o(s.shortExpId),9,ms)]))),128))],8,os))]),D.value?(d(),r("article",vs,[e("h3",null,"模型均值条形图（"+o(oe.value)+"）",1),(d(),r("svg",{class:"compare-svg",viewBox:`0 0 ${D.value.width} ${D.value.height}`,preserveAspectRatio:"none"},[e("rect",{x:D.value.margin.left,y:D.value.margin.top,width:D.value.plotWidth,height:D.value.plotHeight,fill:"#f8fafc",stroke:"#e2e8f0"},null,8,bs),(d(!0),r(U,null,B(D.value.rows,s=>(d(),r("g",{key:`bar-${s.model_type}`},[e("rect",{x:D.value.margin.left,y:s.y-s.height/2,width:D.value.scaleX(s.value)-D.value.margin.left,height:s.height,rx:"6",fill:"#0f766e",opacity:"0.88"},null,8,fs),e("text",{x:D.value.margin.left-8,y:s.y+4,"text-anchor":"end",class:"axis-label left"},o(s.model_type),9,hs),e("text",{x:D.value.scaleX(s.value)+6,y:s.y+4,class:"axis-label"},o(H(s.value,4)),9,ys)]))),128))],8,_s))])):L("",!0)])):L("",!0),C.value.length?(d(),r("div",xs,[e("table",gs,[e("thead",null,[e("tr",null,[t[84]||(t[84]=e("th",null,"exp_id",-1)),t[85]||(t[85]=e("th",null,"model_type",-1)),(d(),r(U,null,B(w,s=>e("th",{key:`head-${s}`},o(s),1)),64))])]),e("tbody",null,[(d(!0),r(U,null,B(C.value,s=>{var j;return d(),r("tr",{key:s.exp_id},[e("td",null,[e("code",null,o(s.exp_id),1)]),e("td",null,o(((j=s.spec)==null?void 0:j.model_type)||"-"),1),(d(),r(U,null,B(w,W=>{var ce,me;return e("td",{key:`${s.exp_id}-${W}`},[e("span",{class:ke({best:ct(W,(ce=s.metrics)==null?void 0:ce[W])})},o(H((me=s.metrics)==null?void 0:me[W],6)),3)])}),64))])}),128))])])])):L("",!0),ue.value.length?(d(),r("div",ks,[t[88]||(t[88]=e("h3",null,"按模型聚合（均值）",-1)),e("table",Ss,[e("thead",null,[e("tr",null,[t[86]||(t[86]=e("th",null,"model_type",-1)),t[87]||(t[87]=e("th",null,"samples",-1)),(d(),r(U,null,B(w,s=>e("th",{key:`model-head-${s}`},o(s),1)),64))])]),e("tbody",null,[(d(!0),r(U,null,B(ue.value,s=>(d(),r("tr",{key:s.model_type},[e("td",null,o(s.model_type),1),e("td",null,o(s.sample_count),1),(d(),r(U,null,B(w,j=>{var W;return e("td",{key:`model-${s.model_type}-${j}`},o(H((W=s.metrics)==null?void 0:W[j],6)),1)}),64))]))),128))])])])):L("",!0),de.value.length?(d(),r("div",$s,[t[90]||(t[90]=e("h3",null,"指标冠军",-1)),e("table",Ns,[t[89]||(t[89]=e("thead",null,[e("tr",null,[e("th",null,"metric"),e("th",null,"best_value"),e("th",null,"exp_id"),e("th",null,"model_type")])],-1)),e("tbody",null,[(d(!0),r(U,null,B(de.value,s=>(d(),r("tr",{key:`champion-${s.metric}`},[e("td",null,o(s.metric),1),e("td",null,o(H(s.value,6)),1),e("td",null,[e("code",null,o(s.exp_id),1)]),e("td",null,o(s.model_type),1)]))),128))])])])):L("",!0)])])}}},Us=Mt(Es,[["__scopeId","data-v-2e3fb997"]]);export{Us as default};
