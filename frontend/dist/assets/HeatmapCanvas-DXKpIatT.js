import{_ as M}from"./index-CqmxJPzg.js";import{be as C,w as k,b5 as v,b8 as _,b7 as g,bb as x,bh as B,b as u}from"./vendor-BiQoUjbf.js";const H={class:"heatmap-wrapper"},S=["width","height"],V={key:0,class:"color-scale"},E={class:"scale-label"},I={class:"scale-label"},N={__name:"HeatmapCanvas",props:{grid:{type:Array,default:()=>[]},size:{type:Number,default:420},colorScale:{type:Boolean,default:!0}},setup(d){const a=d,h=u(null),f=u(null),b=u(null),y=c=>{const e=[{r:30,g:64,b:175},{r:37,g:99,b:235},{r:59,g:130,b:246},{r:6,g:182,b:212},{r:16,g:185,b:129},{r:245,g:158,b:11}],n=c*(e.length-1),s=Math.floor(n),r=n-s,t=e[Math.min(s,e.length-1)],l=e[Math.min(s+1,e.length-1)];return`rgb(${Math.round(t.r+(l.r-t.r)*r)}, ${Math.round(t.g+(l.g-t.g)*r)}, ${Math.round(t.b+(l.b-t.b)*r)})`},m=()=>{var p;if(!h.value||a.grid.length===0)return;const c=h.value.getContext("2d"),e=a.grid.length,n=((p=a.grid[0])==null?void 0:p.length)||0,s=a.size/n,r=a.size/e;let t=1/0,l=-1/0;a.grid.forEach(i=>{i.forEach(o=>{o<t&&(t=o),o>l&&(l=o)})});const w=l-t||1;f.value=t,b.value=l,c.clearRect(0,0,a.size,a.size);for(let i=0;i<e;i++)for(let o=0;o<n;o++){const z=(a.grid[i][o]-t)/w;c.fillStyle=y(z),c.fillRect(o*s,i*r,s+.5,r+.5)}};return C(m),k(()=>a.grid,m,{deep:!0}),(c,e)=>{var n,s;return v(),_("div",H,[g("canvas",{ref_key:"canvas",ref:h,width:d.size,height:d.size,class:"heatmap-canvas"},null,8,S),d.colorScale?(v(),_("div",V,[g("span",E,x((n=f.value)==null?void 0:n.toFixed(2)),1),e[0]||(e[0]=g("div",{class:"scale-bar"},null,-1)),g("span",I,x((s=b.value)==null?void 0:s.toFixed(2)),1)])):B("",!0)])}}},j=M(N,[["__scopeId","data-v-1f7a3a07"]]);export{j as H};
