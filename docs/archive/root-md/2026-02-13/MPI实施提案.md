# 矿压影响指标（MPI）系统实施提案

**创建日期：** 2026-01-30
**项目状态：** 待实施

---

## 一、项目背景

### 1.1 现状概述

当前矿山压力分析系统已完成以下基础功能：
- 钻孔位置和信息管理
- 目标煤层信息分析
- 上覆岩层结构可视化
- 基础矿压指标计算
- 来压步距计算

### 1.2 Web端页面结构

**当前页面（5个）：**

| 页面 | 路由 | 功能 | 修改计划 |
|------|------|------|----------|
| 数据导入 | /data | 数据上传 | 🟢 不动 |
| 插值分析 | /interpolation | 插值与等值线 | 🟢 不动 |
| 矿压指标 | /pressure | 指标展示 | 🟡 增加MPI选项卡 |
| 来压步距 | /steps | 步距计算 | 🟡 增加MPI相关内容 |
| 结果报告 | /report | 综合报告 | 🟡 增加MPI内容 |

### 1.3 数据资源

已获取《汇总表.csv》岩石力学参数数据库，包含数百条记录，覆盖全国多个矿区。

---

## 二、项目目标

### 2.1 总体目标

构建基于岩石力学参数数据库的**矿压影响指标（MPI）系统**，作为现有系统的扩展功能。

### 2.2 核心原则

| 原则 | 说明 |
|------|------|
| 复用优先 | 复用现有页面和组件，不创建新页面 |
| 向后兼容 | 保留现有功能，MPI作为新增内容 |
| 渐进增强 | 前端改动最小化，核心工作在后端计算 |

### 2.3 具体指标

| 指标 | 现状 | 目标 | KPI |
|------|------|------|------|
| 岩层参数 | 5个 | 12个 | 参数匹配率 > 85% |
| 评价维度 | 1个 | 3个 | 计算响应 < 100ms |
| 参数来源 | 人工输入 | 数据库自动 | 匹配准确率 > 90% |

---

## 三、MPI集成策略

### 3.1 页面集成方案

```
┌─────────────────────────────────────────────────────────────────┐
│                        现有页面（不动）                          │
├─────────────────────────────────────────────────────────────────┤
│  📁 数据导入     │  📊 插值分析                                  │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼ 数据流向
┌─────────────────────────────────────────────────────────────────┐
│                    后端计算（新增）                              │
├─────────────────────────────────────────────────────────────────┤
│  • 岩石参数数据库模块                                            │
│  • MPI计算引擎（RSI + BRI + ASI）                                │
│  • MPI相关API接口                                                │
└─────────────────────────────────────────────────────────────────┘
                              │
                              ▼ 数据输出
┌─────────────────────────────────────────────────────────────────┐
│                        修改的页面                                │
├─────────────────────────────────────────────────────────────────┤
│  📈 矿压指标  │  📐 来压步距  │  📑 结果报告                     │
│  ┌──────────┐│  ┌──────────┐│  ┌──────────┐                   │
│  │现有指标  ││  │现有步距  ││  │现有报告  │                   │
│  ├──────────┤│  ├──────────┤│  ├──────────┤                   │
│  │MPI指标   ││  │MPI相关   ││  │MPI内容   │                   │
│  │(新增)    ││  │(新增)    ││  │(新增)    │                   │
│  └──────────┘│  └──────────┘│  └──────────┘                   │
└─────────────────────────────────────────────────────────────────┘
```

### 3.2 具体改动说明

#### 3.2.1 矿压指标页面

**改动方式：** 新增"MPI指标"选项卡

- 复用现有等值线组件
- 分项指标切换按钮（综合MPI/RSI/BRI/ASI）
- 权重配置滑块

#### 3.2.2 来压步距页面

**改动内容：**
- 显示当前MPI值分布
- 根据MPI高低给出步距调整建议

#### 3.2.3 结果报告页面

**改动内容：**
- MPI综合评分
- RSI/BRI/ASI分项得分
- 高MPI/低MPI区域标注

---

## 四、技术方案

### 4.1 系统架构

```
┌──────────────┐    ┌──────────────┐    ┌──────────────┐
│  数据层      │    │  计算层      │    │  表现层      │
│  (新增)      │    │  (新增)      │    │  (修改)      │
├──────────────┤    ├──────────────┤    ├──────────────┤
│岩石参数数据库│───▶│MPI计算引擎   │───▶│现有页面扩展  │
│• 汇总表.csv  │    │• RSI/BRI/ASI │    │• 新增选项卡  │
│• 岩性索引    │    │• 权重配置    │    │• 复用等值线  │
│• 同义词映射  │    │              │    │              │
└──────────────┘    └──────────────┘    └──────────────┘
```

### 4.2 核心算法

| 指标 | 全称 | 计算要素 |
|------|------|----------|
| RSI | 顶板稳定性指标 | 抗拉强度(40%) + 关键层(30%) + 岩层结构(30%) |
| BRI | 冲击地压风险指标 | 采深度 + 硬厚岩层能量 + 煤层厚度 |
| ASI | 支承压力分布指标 | 综合刚度(50%) + 内摩擦角(50%) |

### 4.3 技术指标要求

| 指标 | 要求 |
|------|------|
| 计算精度 | MPI保留2位小数 |
| 单点计算时间 | < 100ms |
| 批量计算（100点） | < 5s |
| API响应时间 | < 200ms (P95) |

---

## 五、实施计划

### 5.1 阶段划分

| 阶段 | 名称 | 工期 | 主要工作 |
|------|------|------|----------|
| 1 | 后端数据 | 5天 | 数据库模块、参数匹配 |
| 2 | 后端计算 | 5天 | MPI计算引擎、API |
| 3 | 前端集成 | 5天 | 现有页面增加MPI内容 |
| 4 | 测试优化 | 3天 | 验证、文档 |
| **总计** | | **18天** | |

### 5.2 详细时间表

| 日期 | 阶段 | 主要任务 | 交付物 |
|------|------|----------|--------|
| D1-D5 | 后端数据 | 数据库解析、参数匹配、缺失值处理 | rock_params_db.py |
| D6-D10 | 后端计算 | RSI/BRI/ASI计算、综合MPI、单元测试 | mpi_calculator.py |
| D11-D15 | API+前端 | REST API、页面修改 | API+页面更新 |
| D16-D18 | 联调测试 | 前后端联调、数据验证 | 测试报告 |

---

## 六、风险与对策

| 风险 | 概率 | 影响 | 对策 |
|------|------|------|------|
| 数据库参数缺失 | 中 | 高 | 建立默认值库+插值估算 |
| 岩性名称不匹配 | 高 | 中 | 建立同义词映射表 |
| 现有页面集成困难 | 中 | 中 | 充分复用现有组件 |

---

## 七、成功标准

### 7.1 项目级成功标准

| 标准 | 度量方式 | 目标值 |
|------|----------|--------|
| 功能完整性 | 计划功能完成率 | 100% |
| 数据可用性 | 参数可匹配率 | > 85% |
| 计算准确性 | 与文献数据对比误差 | < 10% |
| 系统性能 | 单点计算响应时间 | < 100ms |

**验证基准说明（新增）：**
- 液压支架工作阻力数据可作为矿压对照基准。
- 将在后续阶段把该数据与MPI结果进行对比验证，形成偏差评估报告。

### 7.2 阶段验收标准

| 阶段 | 验收标准 |
|------|----------|
| 后端数据 | 可按岩性查询参数，参数匹配率 > 80% |
| 后端计算 | 单点计算功能正常，单元测试覆盖率 > 80% |
| API开发 | 所有接口可正常调用，响应时间 < 200ms |
| 前端集成 | MPI选项卡正常显示，交互响应 < 500ms |
| 测试优化 | 通过3个以上真实钻孔数据验证 |

---

## 八、交付清单

### 8.1 后端交付物

| 文件 | 说明 |
|------|------|
| `backend/app/services/rock_params_db.py` | 岩石参数数据库模块 |
| `backend/app/services/mpi_calculator.py` | MPI计算引擎 |
| `backend/app/routes/mpi.py` | MPI相关API路由 |

### 8.2 前端交付物

| 文件 | 说明 |
|------|------|
| `frontend/src/views/PressureIndex.vue` | 新增MPI选项卡 |
| `frontend/src/views/Steps.vue` | 新增MPI相关内容 |
| `frontend/src/views/Report.vue` | 新增MPI章节 |

### 8.3 文档交付物

| 文件 | 说明 |
|------|------|
| `docs/MPI_API.md` | API接口文档 |
| `docs/MPI用户手册.md` | 用户操作手册 |

---

## 九、附录

### 9.1 术语表

| 术语 | 说明 |
|------|------|
| MPI | Mining Pressure Impact Index，矿压影响指标 |
| RSI | Roof Stability Index，顶板稳定性指标 |
| BRI | Burst Risk Index，冲击地压风险指标 |
| ASI | Abutment Stress Index，支承压力分布指标 |

### 9.2 相关文档

- [MPI设计文档.md](./MPI设计文档.md) - 算法设计详细说明
- [MPI实施任务.md](./MPI实施任务.md) - 详细任务清单
- [汇总表.csv](./汇总表.csv) - 岩石力学参数数据库

---

**文档版本：** Final
**创建日期：** 2026-01-30
